(()=>{"use strict";var t={474:(t,e,n)=>{n.r(e)},590:function(t,e){var n=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,a){function o(t){try{s(i.next(t))}catch(t){a(t)}}function d(t){try{s(i.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,d)}s((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.createCar=void 0,e.createCar=function(t){return n(this,void 0,void 0,(function*(){return(yield fetch("http://127.0.0.1:3000/garage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}))}},855:function(t,e){var n=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,a){function o(t){try{s(i.next(t))}catch(t){a(t)}}function d(t){try{s(i.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,d)}s((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.createWinner=void 0,e.createWinner=function(t){return n(this,void 0,void 0,(function*(){return(yield fetch("http://127.0.0.1:3000/winners/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}))}},795:function(t,e){var n=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,a){function o(t){try{s(i.next(t))}catch(t){a(t)}}function d(t){try{s(i.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,d)}s((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.deleteCar=void 0,e.deleteCar=function(t){return n(this,void 0,void 0,(function*(){yield fetch(`http://127.0.0.1:3000/garage/${t}`,{method:"DELETE"})}))}},470:function(t,e){var n=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,a){function o(t){try{s(i.next(t))}catch(t){a(t)}}function d(t){try{s(i.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,d)}s((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.deleteWinner=void 0,e.deleteWinner=function(t){return n(this,void 0,void 0,(function*(){yield fetch(`http://127.0.0.1:3000/winners/${t}`,{method:"DELETE"})}))}},553:function(t,e){var n=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,a){function o(t){try{s(i.next(t))}catch(t){a(t)}}function d(t){try{s(i.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,d)}s((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.driveMode=void 0,e.driveMode=function(t){return n(this,void 0,void 0,(function*(){try{const e=yield fetch(`http://127.0.0.1:3000/engine?id=${t}&status=drive`,{method:"PATCH"});if(!e.ok)throw new Error("Ошибка при запросе: "+e.status);return yield e.json()}catch(t){return"engine stopped"}}))}},152:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,a){function o(t){try{s(i.next(t))}catch(t){a(t)}}function d(t){try{s(i.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,d)}s((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.getCar=e.getFirstCarNextPage=e.getCarsPage=e.getCars=void 0;const r=n(792);e.getCars=function(){return i(this,void 0,void 0,(function*(){const t=yield fetch("http://127.0.0.1:3000/garage");return yield t.json()}))},e.getCarsPage=function(){return i(this,void 0,void 0,(function*(){const t=(0,r.getCurrntPage)(),e=yield fetch(`http://127.0.0.1:3000/garage?_limit=7&_page=${t}`);return yield e.json()}))},e.getFirstCarNextPage=function(){return i(this,void 0,void 0,(function*(){const t=Number((0,r.getCurrntPage)())+1,e=yield fetch(`http://127.0.0.1:3000/garage?_limit=7&_page=${t}`);return(yield e.json())[0]}))},e.getCar=function(t){return i(this,void 0,void 0,(function*(){const e=yield fetch(`http://127.0.0.1:3000/garage/${t}`);return yield e.json()}))}},556:function(t,e){var n=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,a){function o(t){try{s(i.next(t))}catch(t){a(t)}}function d(t){try{s(i.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,d)}s((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.getWinner=void 0,e.getWinner=function(t){return n(this,void 0,void 0,(function*(){const e=yield fetch(`http://127.0.0.1:3000/winners/${t}`);return yield e.json()}))}},232:function(t,e){var n=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,a){function o(t){try{s(i.next(t))}catch(t){a(t)}}function d(t){try{s(i.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,d)}s((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.getWinners=void 0,e.getWinners=function(t,e,i,r){return n(this,void 0,void 0,(function*(){const n=yield fetch(`http://127.0.0.1:3000/winners?_page=${t}&_limit=${e}&_sort=${i}&_order=${r}`);return yield n.json()}))}},534:function(t,e){var n=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,a){function o(t){try{s(i.next(t))}catch(t){a(t)}}function d(t){try{s(i.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,d)}s((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.getWinnersCount=void 0,e.getWinnersCount=function(){return n(this,void 0,void 0,(function*(){const t=yield fetch("http://127.0.0.1:3000/winners");return(yield t.json()).length}))}},223:function(t,e){var n=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,a){function o(t){try{s(i.next(t))}catch(t){a(t)}}function d(t){try{s(i.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,d)}s((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.startCarEngin=void 0,e.startCarEngin=function(t,e){return n(this,void 0,void 0,(function*(){const n=yield fetch(`http://127.0.0.1:3000/engine?id=${t}&status=${e}`,{method:"PATCH"}),i=yield n.json();return Number((i.distance/i.velocity/1e3).toFixed(2))}))}},17:function(t,e){var n=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,a){function o(t){try{s(i.next(t))}catch(t){a(t)}}function d(t){try{s(i.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,d)}s((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.updateCar=void 0,e.updateCar=function(t,e){return n(this,void 0,void 0,(function*(){return(yield fetch(`http://127.0.0.1:3000/garage/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}))}},334:function(t,e){var n=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,a){function o(t){try{s(i.next(t))}catch(t){a(t)}}function d(t){try{s(i.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,d)}s((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.updateWinner=void 0,e.updateWinner=function(t,e){return n(this,void 0,void 0,(function*(){return(yield fetch(`http://127.0.0.1:3000/winners/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}))}},125:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CarTempelate=void 0;const i=n(647);e.CarTempelate=class{constructor(t){this.carName=t.name,this.carColor=t.color,this.carID=t.id}addCar(){const t=document.createElement("div");return t.className="car-wrapper",t.id=`${this.carID}`,t.append(this.addDelBtn(),this.addSelectBtn(),this.addStartBtn(),this.addStopBtn(),this.addCarName(),this.addCarImg()),t}addCarName(){const t=document.createElement("div");return t.className="car-name",t.textContent=this.carName,t}addCarImg(){const t=document.createElement("div");return t.innerHTML=(0,i.carSvg)(this.carColor),t}addDelBtn(){const t=document.createElement("button");return t.textContent="delete",t}addSelectBtn(){const t=document.createElement("button");return t.textContent="select",t}addStartBtn(){const t=document.createElement("button");return t.textContent="start",t}addStopBtn(){const t=document.createElement("button");return t.textContent="stop",t.disabled=!0,t}}},259:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SelectView=void 0;const i=n(885),r=n(120);e.SelectView=class{constructor(){this.garageBtn=document.createElement("button"),this.winnersBtn=document.createElement("button"),this.garage=new r.Garage,this.winners=new i.Winners,this.garageBtn.textContent="garage",this.winnersBtn.textContent="winners",document.body.append(this.garageBtn),document.body.append(this.winnersBtn),this.garage.addView(),this.changeView()}changeView(){this.garageBtn.addEventListener("click",(()=>{this.winners.removeView(),this.garage.addView()})),this.winnersBtn.addEventListener("click",(()=>{this.garage.removeView(),this.winners.addView(),this.winners.main.innerHTML="",this.winners.addH1Text(),this.winners.addTable(),this.winners.paginationNav.innerHTML="",this.winners.addPagination()}))}}},647:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.carSvg=void 0,e.carSvg=t=>`<svg version="1.0" xmlns="http://www.w3.org/2000/svg"\nwidth="50px" height="25px" viewBox="0 0 1280.000000 640.000000"\npreserveAspectRatio="xMidYMid meet">\n<metadata>\nCreated by potrace 1.15, written by Peter Selinger 2001-2017\n</metadata>\n<g transform="translate(0.000000,640.000000) scale(0.100000,-0.100000)"\nfill="#000000" stroke="none" style="\nfill: ${t}">\n<path d="M3565 5336 c-106 -30 -101 -26 -108 -111 -4 -42 -9 -80 -12 -85 -6\n-10 -246 -105 -590 -234 -448 -167 -1052 -415 -1173 -483 -78 -43 -193 -91\n-250 -104 -23 -5 -98 -14 -165 -19 -67 -6 -167 -19 -222 -30 -154 -31 -340\n-49 -563 -57 l-203 -6 -43 -66 c-59 -91 -60 -95 -26 -130 37 -37 38 -65 3\n-150 -25 -62 -27 -78 -31 -256 l-4 -190 -38 -32 c-91 -78 -133 -209 -134 -418\n0 -194 11 -396 26 -482 13 -71 14 -74 72 -122 69 -58 130 -129 158 -184 64\n-126 534 -211 1384 -250 l92 -4 -6 119 c-6 142 8 256 49 383 112 352 394 622\n756 722 90 26 112 28 278 28 165 0 188 -2 278 -27 201 -56 361 -152 504 -302\n140 -145 222 -293 274 -492 21 -79 24 -109 23 -279 -1 -127 -6 -214 -16 -263\nl-15 -73 3006 7 c1653 4 3007 8 3009 9 1 1 -8 37 -20 81 -19 67 -22 105 -22\n259 -1 166 1 187 27 279 117 421 467 736 885 797 119 17 325 7 432 -21 239\n-63 453 -205 601 -399 70 -92 154 -267 185 -386 24 -88 27 -119 27 -260 1\n-116 -4 -181 -16 -234 -10 -41 -16 -75 -15 -76 2 -1 62 2 133 6 266 16 458 45\n525 79 48 24 97 81 127 146 l24 52 -16 157 c-15 152 -15 163 4 284 63 388 50\n680 -35 802 -134 193 -526 336 -1429 519 -737 149 -1322 209 -2033 210 -228 0\n-226 0 -347 85 -187 131 -1045 607 -1471 815 -383 187 -788 281 -1439 332\n-208 17 -1106 16 -1400 0 -121 -7 -314 -19 -430 -27 -302 -22 -286 -22 -341\n10 -140 81 -187 94 -269 71z m1885 -333 c6 -37 38 -238 71 -446 32 -209 66\n-422 75 -474 9 -52 15 -96 13 -97 -11 -9 -1699 29 -1951 44 -206 13 -417 36\n-485 54 -98 26 -198 119 -249 231 -35 75 -36 172 -5 255 17 45 30 61 68 86 83\n54 135 80 253 127 341 136 858 230 1460 267 269 16 270 16 511 18 l227 2 12\n-67z m630 47 c264 -18 777 -110 1029 -186 186 -56 445 -188 756 -387 211 -134\n274 -181 250 -185 -75 -12 -133 -50 -162 -106 -19 -35 -21 -136 -4 -179 l11\n-27 -907 2 -906 3 -59 160 c-110 302 -298 878 -298 916 0 6 95 2 290 -11z"/>\n<path d="M2633 3125 c-223 -40 -410 -141 -568 -306 -132 -138 -213 -283 -262\n-467 -22 -83 -26 -119 -26 -247 -1 -169 10 -236 65 -382 87 -230 271 -436 493\n-551 85 -44 178 -78 271 -98 107 -23 312 -23 419 1 392 84 699 375 802 761 23\n86 26 120 27 254 1 158 -5 199 -46 330 -98 310 -355 567 -668 669 -150 50\n-354 64 -507 36z m350 -301 c249 -56 457 -247 543 -499 25 -72 28 -95 28 -220\n1 -153 -15 -228 -74 -345 -94 -186 -283 -337 -485 -386 -96 -24 -268 -24 -360\n0 -320 84 -544 355 -562 681 -20 359 209 673 558 765 94 24 253 26 352 4z"/>\n<path d="M2600 2697 c-36 -13 -85 -36 -109 -51 l-44 -28 116 -115 c81 -82 120\n-114 131 -110 14 6 16 29 16 167 0 186 6 178 -110 137z"/>\n<path d="M2920 2561 c0 -139 2 -162 16 -168 11 -4 50 28 130 108 l115 114 -28\n22 c-34 28 -138 70 -193 79 l-40 7 0 -162z"/>\n<path d="M2282 2448 c-28 -36 -92 -191 -92 -225 0 -10 34 -13 165 -13 151 0\n165 1 165 18 0 15 -206 232 -221 232 -4 0 -11 -6 -17 -12z"/>\n<path d="M3222 2351 c-62 -59 -112 -115 -112 -124 0 -15 17 -17 165 -17 131 0\n165 3 165 13 0 40 -69 205 -95 227 -7 6 -48 -27 -123 -99z"/>\n<path d="M2781 2332 c-12 -22 11 -62 34 -62 8 0 21 10 29 22 20 28 4 58 -29\n58 -13 0 -29 -8 -34 -18z"/>\n<path d="M2749 2161 c-32 -33 -37 -67 -14 -110 29 -57 104 -64 151 -14 53 57\n9 153 -71 153 -27 0 -44 -8 -66 -29z"/>\n<path d="M2570 2125 c-26 -32 13 -81 48 -59 24 16 27 45 6 61 -23 17 -39 16\n-54 -2z"/>\n<path d="M3006 2124 c-20 -19 -20 -38 -2 -54 23 -19 61 -8 64 18 7 44 -32 67\n-62 36z"/>\n<path d="M2190 1975 c0 -29 41 -140 72 -194 l31 -53 117 117 c71 71 116 123\n113 131 -4 11 -40 14 -169 14 -141 0 -164 -2 -164 -15z"/>\n<path d="M3110 1972 c0 -9 51 -68 114 -131 l114 -114 31 54 c30 51 71 165 71\n195 0 11 -31 14 -165 14 -151 0 -165 -1 -165 -18z"/>\n<path d="M2780 1901 c-7 -15 -5 -24 8 -41 32 -40 85 -4 62 41 -14 25 -56 25\n-70 0z"/>\n<path d="M2562 1697 c-61 -62 -112 -115 -112 -119 0 -18 208 -108 249 -108 7\n0 11 54 11 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115 -113z"/>\n<path d="M2933 1803 c-15 -6 -19 -333 -4 -333 46 0 251 88 251 108 0 9 -223\n232 -230 231 -3 0 -11 -3 -17 -6z"/>\n<path d="M10700 3119 c-390 -84 -696 -376 -797 -759 -31 -117 -41 -292 -24\n-411 33 -227 150 -453 318 -609 267 -250 643 -344 993 -249 117 32 283 118\n380 196 487 396 518 1128 67 1560 -97 93 -166 140 -290 198 -137 64 -235 86\n-407 91 -120 3 -162 0 -240 -17z m445 -313 c238 -81 409 -258 486 -506 30 -96\n33 -289 5 -388 -110 -400 -513 -637 -911 -536 -149 38 -313 147 -402 267 -176\n238 -203 533 -71 797 34 69 60 103 138 180 77 78 111 104 181 139 129 65 207\n81 364 77 109 -3 143 -7 210 -30z"/>\n<path d="M10703 2700 c-54 -19 -153 -71 -153 -80 0 -3 51 -57 114 -119 80 -80\n119 -112 130 -108 14 5 16 29 16 167 l0 160 -27 -1 c-16 0 -52 -9 -80 -19z"/>\n<path d="M11020 2561 c0 -139 2 -162 16 -168 22 -8 247 216 234 232 -17 20\n-163 84 -207 91 l-43 7 0 -162z"/>\n<path d="M10366 2424 c-29 -44 -76 -165 -76 -194 0 -19 7 -20 165 -20 126 0\n165 3 165 13 0 7 -51 63 -114 126 l-114 114 -26 -39z"/>\n<path d="M11313 2348 c-61 -62 -109 -119 -106 -125 6 -15 333 -19 333 -4 0 45\n-88 241 -108 241 -4 0 -57 -51 -119 -112z"/>\n<path d="M10882 2338 c-17 -17 -15 -32 7 -52 16 -14 23 -15 41 -6 31 17 24 64\n-10 68 -14 2 -31 -3 -38 -10z"/>\n<path d="M10846 2159 c-68 -81 17 -194 110 -144 89 48 56 175 -46 175 -30 0\n-44 -6 -64 -31z"/>\n<path d="M10670 2126 c-19 -23 -8 -61 18 -64 44 -7 67 32 36 62 -19 20 -38 20\n-54 2z"/>\n<path d="M11106 2127 c-21 -16 -18 -45 7 -61 37 -23 77 35 41 61 -10 7 -21 13\n-24 13 -3 0 -14 -6 -24 -13z"/>\n<path d="M10290 1970 c0 -29 43 -141 74 -195 l28 -48 116 116 c81 81 113 120\n109 131 -6 14 -29 16 -167 16 -152 0 -160 -1 -160 -20z"/>\n<path d="M11207 1978 c-3 -7 47 -66 111 -130 l116 -118 27 43 c27 44 79 177\n79 203 0 12 -28 14 -164 14 -122 0 -166 -3 -169 -12z"/>\n<path d="M10881 1901 c-14 -25 -5 -48 20 -56 27 -9 51 13 47 44 -4 34 -51 43\n-67 12z"/>\n<path d="M10662 1697 c-61 -62 -112 -115 -112 -119 0 -20 201 -108 247 -108\n10 0 13 34 13 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115\n-113z"/>\n<path d="M11033 1803 c-10 -3 -13 -47 -13 -169 0 -90 4 -164 8 -164 36 0 186\n61 239 98 16 10 -216 242 -234 235z"/>\n</g>\n</svg>`},792:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.setCurrntPage=e.getCurrntPage=void 0,e.getCurrntPage=function(){let t=localStorage.getItem("currentPage");return t||(t="1"),t},e.setCurrntPage=function(t){localStorage.setItem("currentPage",t)}},999:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.setCurrntPageWinners=e.getCurrntPageWinners=void 0,e.getCurrntPageWinners=function(){let t=localStorage.getItem("currentPageWinners");return t||(t="1"),t},e.setCurrntPageWinners=function(t){localStorage.setItem("currentPageWinners",t)}},734:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getRandomCarName=void 0;const n=["Acura","Alfa Romeo","Aston Martin","Audi","Bentley","BMW","Bugatti","Buick","Cadillac","Chevrolet","Chrysler","Citroën","Dodge","Ferrari","Fiat","Ford","Genesis","GMC","Honda","Hyundai","Infiniti","Jaguar","Jeep","Kia","Koenigsegg","Lamborghini","Land Rover","Lexus","Lincoln","Lotus","Maserati","Mazda","McLaren","Mercedes-Benz","Mini","Mitsubishi","Nissan","Pagani","Porsche","Ram","Rolls-Royce","Subaru","Suzuki","Tesla","Toyota","Volkswagen","Volvo"],i=["ILX","MDX","RDX","TLX","Giulia","Stelvio","DB11","DBS Superleggera","Vantage","A3","A4","A6","Q5","Q7","R8","Bentayga","Continental GT","Flying Spur","3 Series","5 Series","7 Series","X3","X5","X7","Z4","Chiron","Divo","Enclave","Encore","Envision","Escalade","XT5","XT6","Camaro","Equinox","Silverado","Suburban","Tahoe","Traverse"];function r(t){return t[Math.floor(Math.random()*(t.length-1+1))]}e.getRandomCarName=function(){return`${r(n)} ${r(i)}`}},200:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getRandomColorHex=void 0,e.getRandomColorHex=function(){let t="#";for(let e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}},120:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,a){function o(t){try{s(i.next(t))}catch(t){a(t)}}function d(t){try{s(i.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,d)}s((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Garage=void 0;const r=n(125),a=n(152),o=n(102),d=n(590),s=n(795),c=n(17),u=n(734),l=n(200),h=n(792),p=n(223),v=n(553),f=n(556),m=n(334),g=n(855),C=n(470);class y extends o.View{constructor(){super(),this.selectedCar=null,this.addH1Text(),this.addH2Text(),this.addCars(),this.createCar(),this.updateeCar(),this.generateCars(),this.startRace(),this.resetRace(),this.carEvents(),this.addPagination()}addH1Text(){return i(this,void 0,void 0,(function*(){const t=yield(0,a.getCars)();this.h1.textContent=`Garage (${t.length})`}))}addH2Text(){return i(this,void 0,void 0,(function*(){this.h2.textContent=`Page #${(0,h.getCurrntPage)()}`}))}addCars(){return i(this,void 0,void 0,(function*(){(yield(0,a.getCarsPage)()).forEach((t=>{const e=new r.CarTempelate(t);this.main.append(e.addCar())}))}))}addPagination(){const t=document.createElement("button");t.textContent="prev";const e=document.createElement("button");e.textContent="next",this.paginationNav.append(t,e);const n=()=>i(this,void 0,void 0,(function*(){"1"===(0,h.getCurrntPage)()?t.disabled=!0:t.disabled=!1,Number((0,h.getCurrntPage)())>=(yield(0,a.getCars)()).length/7?e.disabled=!0:e.disabled=!1}));n(),e.addEventListener("click",(()=>{this.main.innerHTML="";const t=(Number((0,h.getCurrntPage)())+1).toString();(0,h.setCurrntPage)(t),this.addCars(),this.addH2Text(),n()})),t.addEventListener("click",(()=>{this.main.innerHTML="";const t=(Number((0,h.getCurrntPage)())-1).toString();(0,h.setCurrntPage)(t),this.addH2Text(),this.addCars(),n()}))}getSelectedCar(){return this.selectedCar}setSelectedCar(t){t.target instanceof HTMLButtonElement&&"select"===t.target.textContent&&t.target.parentNode instanceof HTMLElement&&(this.selectedCar=Number(t.target.parentNode.id))}createCar(){const t=document.createElement("div"),e=document.createElement("input");e.type="text";const n=document.createElement("input");n.type="color";const a=document.createElement("button");a.textContent="create",t.append(e,n,a),this.nav.append(t),a.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){const t={name:e.value,color:n.value},i=new r.CarTempelate(yield(0,d.createCar)(t)),a=this.paginationNav.childNodes[1];7===this.main.childNodes.length&&(a.disabled=!1),this.main.childNodes.length<7&&this.main.append(i.addCar()),this.addH1Text()}))))}updateeCar(){const t=document.createElement("div"),e=document.createElement("input");e.type="text";const n=document.createElement("input");n.type="color";const a=document.createElement("button");a.textContent="update",t.append(e,n,a),this.nav.append(t),a.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){const t={name:e.value,color:n.value},i=this.getSelectedCar();if(null!==i){const e=new r.CarTempelate(yield(0,c.updateCar)(i,t)).addCar(),n=document.getElementById(`${i}`);this.main.replaceChild(e,n)}}))))}generateCars(){const t=document.createElement("button");t.textContent="generate",this.nav.append(t),t.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){this.paginationNav.childNodes[1].disabled=!1;for(let t=0;t<100;t++){const t={name:`${(0,u.getRandomCarName)()}`,color:`${(0,l.getRandomColorHex)()}`},e=new r.CarTempelate(yield(0,d.createCar)(t));this.main.childNodes.length<7&&this.main.append(e.addCar()),this.addH1Text()}}))))}startRace(){return i(this,void 0,void 0,(function*(){const t=document.createElement("button");t.textContent="race",this.nav.append(t);const e=this.main.childNodes;t.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){const n=[];e.forEach((e=>i(this,void 0,void 0,(function*(){if(e instanceof HTMLElement){t.disabled=!0,e.childNodes[2].disabled=!0,e.childNodes[3].disabled=!1;const r=e.id,a="started",o=e.childNodes[5].firstChild,d=(0,p.startCarEngin)(r,a).then((t=>i(this,void 0,void 0,(function*(){if(o.style.transition=`all ${t}s linear`,o.style.transform=`translateX(${document.body.clientWidth-50}px)`,"engine stopped"===(yield(0,v.driveMode)(r))){const t=window.getComputedStyle(o).getPropertyValue("transform").split(", ")[4];o.style.transition="all 0s linear",o.style.transform=`translateX(${t}px)`,yield new Promise((t=>{setTimeout((()=>i(this,void 0,void 0,(function*(){yield(0,p.startCarEngin)(r,"stopped"),t()}))),2e4)}))}return{time:t,id:r}}))));n.push(d)}}))));const r=yield Promise.race(n),o=yield(0,a.getCar)(Number(r.id));this.winnerPopUp(o.name,r.time),this.createWinner(o.id,r.time)}))))}))}winnerPopUp(t,e){const n=document.createElement("div");n.className="winner-popup",n.textContent=`${t} went first (${e}s)`,this.main.append(n)}createWinner(t,e){return i(this,void 0,void 0,(function*(){const n=yield(0,f.getWinner)(t);if(n.id)if(n.time>e){const t={wins:n.wins+1,time:e};(0,m.updateWinner)(n.id,t)}else{const t={wins:n.wins+1,time:n.time};(0,m.updateWinner)(n.id,t)}else{const n={id:t,wins:1,time:e};(0,g.createWinner)(n)}}))}resetRace(){const t=document.createElement("button"),e=this.nav.childNodes[3];t.textContent="reset",this.nav.append(t),t.addEventListener("click",(()=>{const t=this.main.childNodes;this.main.lastChild instanceof HTMLElement&&this.main.lastChild.classList.contains("winner-popup")&&this.main.lastChild.remove(),t.forEach((t=>i(this,void 0,void 0,(function*(){if(t instanceof HTMLElement){const n=t.childNodes[2];t.childNodes[3].disabled=!0;const i=t.id,r="stopped",a=t.childNodes[5].firstChild;yield(0,p.startCarEngin)(i,r),a.style.transition="all 0s linear",a.style.transform="translateX(0px)",n.disabled=!1,e.disabled=!1}}))))}))}carEvents(){this.main.addEventListener("click",(t=>{this.removeCar(t),this.setSelectedCar(t),this.startCar(t),this.stopCar(t)}))}removeCar(t){return i(this,void 0,void 0,(function*(){if(t.target instanceof HTMLButtonElement&&"delete"===t.target.textContent&&t.target.parentNode instanceof HTMLElement){t.target.parentNode.remove();const e=this.paginationNav.childNodes[1];if(Number((0,h.getCurrntPage)())<(yield(0,a.getCars)()).length/7){const t=new r.CarTempelate(yield(0,a.getFirstCarNextPage)()).addCar();this.main.append(t)}yield(0,s.deleteCar)(Number(t.target.parentNode.id)),(0,C.deleteWinner)(Number(t.target.parentNode.id)),this.addH1Text(),Number((0,h.getCurrntPage)())===(yield(0,a.getCars)()).length/7&&(e.disabled=!0)}}))}startCar(t){return i(this,void 0,void 0,(function*(){if(t.target instanceof HTMLButtonElement&&"start"===t.target.textContent&&t.target.parentNode instanceof HTMLElement&&t.target.parentNode.childNodes[5]instanceof HTMLElement){const e=t.target;t.target.parentNode.childNodes[3].disabled=!1,e.disabled=!0;const n=t.target.parentNode.id,i="started",r=t.target.parentNode.childNodes[5].firstChild;if(r.style.transition=`all ${yield(0,p.startCarEngin)(n,i)}s linear`,r.style.transform=`translateX(${document.body.clientWidth-50}px)`,"engine stopped"===(yield(0,v.driveMode)(n))){const t=window.getComputedStyle(r).getPropertyValue("transform").split(", ")[4];r.style.transition="all 0s linear",r.style.transform=`translateX(${t}px)`}}}))}stopCar(t){return i(this,void 0,void 0,(function*(){if(t.target instanceof HTMLButtonElement&&"stop"===t.target.textContent&&t.target.parentNode instanceof HTMLElement&&t.target.parentNode.childNodes[5]instanceof HTMLElement){const e=t.target.parentNode.childNodes[2];t.target.disabled=!0;const n=t.target.parentNode.id,i="stopped",r=t.target.parentNode.childNodes[5].firstChild;yield(0,p.startCarEngin)(n,i),r.style.transition="all 0s linear",r.style.transform="translateX(0px)",e.disabled=!1}}))}}e.Garage=y},102:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0,e.View=class{constructor(){this.h1=document.createElement("h1"),this.h2=document.createElement("h2"),this.nav=document.createElement("nav"),this.main=document.createElement("main"),this.paginationNav=document.createElement("nav")}addView(){document.body.append(this.nav),document.body.append(this.h1),document.body.append(this.h2),document.body.append(this.main),document.body.append(this.paginationNav)}removeView(){this.h1.remove(),this.h2.remove(),this.nav.remove(),this.main.remove(),this.paginationNav.remove()}}},885:function(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,a){function o(t){try{s(i.next(t))}catch(t){a(t)}}function d(t){try{s(i.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,d)}s((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Winners=void 0;const r=n(647),a=n(152),o=n(232),d=n(534),s=n(102),c=n(999);class u extends s.View{constructor(){super(),this.sortProp=["id","ASC"],this.addH1Text(),this.addH2Text(),this.addTable(),this.addPagination()}addH1Text(){return i(this,void 0,void 0,(function*(){const t=yield(0,d.getWinnersCount)();this.h1.textContent=`Winners (${t})`}))}addH2Text(){return i(this,void 0,void 0,(function*(){this.h2.textContent=`Page #${(0,c.getCurrntPageWinners)()}`}))}addTable(t=Number((0,c.getCurrntPageWinners)()),e=10,n=this.sortProp[0],r=this.sortProp[1]){return i(this,void 0,void 0,(function*(){const a=document.createElement("table"),o=document.createElement("thead"),d=document.createElement("tr"),s=document.createElement("td");s.textContent="ID";const u=document.createElement("td");u.textContent="Car";const l=document.createElement("td");l.textContent="Name";const h=document.createElement("td");h.textContent="Wins";const p=document.createElement("td");p.textContent="Best time",d.append(s,u,l,h,p),o.append(d),a.append(o),this.main.append(a);let v=yield this.getTableBody(t,e,n,r);a.append(v),s.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){this.sortProp[0]="id",this.sortProp[1]="ASC"===this.sortProp[1]?"DESC":"ASC",s.textContent="ASC"===this.sortProp[1]?"ID ▲":"ID ▼",p.textContent="Best time",h.textContent="wins";const t=Number((0,c.getCurrntPageWinners)()),e=yield this.getTableBody(t,10,this.sortProp[0],this.sortProp[1]);v.remove(),v=e,a.append(v)})))),h.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){this.sortProp[0]="wins",this.sortProp[1]="ASC"===this.sortProp[1]?"DESC":"ASC",h.textContent="ASC"===this.sortProp[1]?"wins ▲":"wins ▼",p.textContent="Best time",s.textContent="ID";const t=Number((0,c.getCurrntPageWinners)()),e=yield this.getTableBody(t,10,this.sortProp[0],this.sortProp[1]);v.remove(),v=e,a.append(v)})))),p.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){this.sortProp[0]="time",this.sortProp[1]="ASC"===this.sortProp[1]?"DESC":"ASC",h.textContent="wins",p.textContent="ASC"===this.sortProp[1]?"Best time ▲":"Best time ▼",s.textContent="ID";const t=Number((0,c.getCurrntPageWinners)()),e=yield this.getTableBody(t,10,this.sortProp[0],this.sortProp[1]);v.remove(),v=e,a.append(v)}))))}))}getTableBody(t,e,n,d){return i(this,void 0,void 0,(function*(){const s=document.createElement("tbody");return(yield(0,o.getWinners)(t,e,n,d)).forEach((t=>i(this,void 0,void 0,(function*(){const e=yield(0,a.getCar)(t.id),n=document.createElement("tr"),i=`\n            <td>${t.id}</td>\n            <td>${(0,r.carSvg)(e.color)}</td>\n            <td>${e.name}</td>\n            <td>${t.wins}</td>\n            <td>${t.time}</td>`;n.innerHTML=i,s.append(n)})))),s}))}addPagination(){const t=document.createElement("button");t.textContent="prev";const e=document.createElement("button");e.textContent="next",this.paginationNav.append(t,e);const n=()=>i(this,void 0,void 0,(function*(){const n=yield(0,d.getWinnersCount)();"1"===(0,c.getCurrntPageWinners)()?t.disabled=!0:t.disabled=!1,Number((0,c.getCurrntPageWinners)())>=n/10?e.disabled=!0:e.disabled=!1}));n(),e.addEventListener("click",(()=>{this.main.innerHTML="";const t=String(Number((0,c.getCurrntPageWinners)())+1);(0,c.setCurrntPageWinners)(t),this.addTable(),this.addH2Text(),n()})),t.addEventListener("click",(()=>{this.main.innerHTML="";const t=String(Number((0,c.getCurrntPageWinners)())-1);(0,c.setCurrntPageWinners)(t),this.addH2Text(),this.addTable(Number(t)),n()}))}}e.Winners=u}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var a=e[i]={exports:{}};return t[i].call(a.exports,a,a.exports,n),a.exports}n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(474),new(n(259).SelectView)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE9BQU9DLGVBQWVSLEVBQVNLLE9BQU9DLFlBQWEsQ0FBRXRGLE1BQU8sV0FFN0R1RixPQUFPQyxlQUFlUixFQUFTLGFBQWMsQ0FBRWhGLE9BQU8sR0FBTyxFQ0w5RCxPQUdBLElBRkEsT0FFSXlGLFciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJwYWNrLTEuMC8uL3NyYy9hcGkvY3JlYXRlQ2FyLnRzIiwid2VicGFjazovL3dlYnBhY2stMS4wLy4vc3JjL2FwaS9jcmVhdGVXaW5uZXIudHMiLCJ3ZWJwYWNrOi8vd2VicGFjay0xLjAvLi9zcmMvYXBpL2RlbGV0ZUNhci50cyIsIndlYnBhY2s6Ly93ZWJwYWNrLTEuMC8uL3NyYy9hcGkvZGVsZXRlV2lubmVyLnRzIiwid2VicGFjazovL3dlYnBhY2stMS4wLy4vc3JjL2FwaS9kcml2ZU1vZGUudHMiLCJ3ZWJwYWNrOi8vd2VicGFjay0xLjAvLi9zcmMvYXBpL2dldENhcnMudHMiLCJ3ZWJwYWNrOi8vd2VicGFjay0xLjAvLi9zcmMvYXBpL2dldFdpbm5lci50cyIsIndlYnBhY2s6Ly93ZWJwYWNrLTEuMC8uL3NyYy9hcGkvZ2V0V2lubmVycy50cyIsIndlYnBhY2s6Ly93ZWJwYWNrLTEuMC8uL3NyYy9hcGkvZ2V0V2lubmVyc0NvdW50LnRzIiwid2VicGFjazovL3dlYnBhY2stMS4wLy4vc3JjL2FwaS9zdGFydENhci50cyIsIndlYnBhY2s6Ly93ZWJwYWNrLTEuMC8uL3NyYy9hcGkvdXBkYXRlQ2FyLnRzIiwid2VicGFjazovL3dlYnBhY2stMS4wLy4vc3JjL2FwaS91cGRhdGVXaW5uZXIudHMiLCJ3ZWJwYWNrOi8vd2VicGFjay0xLjAvLi9zcmMvY29tcG9uZW50cy9jYXIudHMiLCJ3ZWJwYWNrOi8vd2VicGFjay0xLjAvLi9zcmMvY29tcG9uZW50cy9jaGFuZ2VWaWV3LnRzIiwid2VicGFjazovL3dlYnBhY2stMS4wLy4vc3JjL2ltYWdlcy9jYXJTdmcudHMiLCJ3ZWJwYWNrOi8vd2VicGFjay0xLjAvLi9zcmMvc3RhdGUvY3VycmVudFBhZ2UudHMiLCJ3ZWJwYWNrOi8vd2VicGFjay0xLjAvLi9zcmMvc3RhdGUvY3VycmVudFBhZ2VXaW5uZXJzLnRzIiwid2VicGFjazovL3dlYnBhY2stMS4wLy4vc3JjL3V0aWxzL3JhbmRvbUNhck5hbWUudHMiLCJ3ZWJwYWNrOi8vd2VicGFjay0xLjAvLi9zcmMvdXRpbHMvcmFuZG9tQ29sb3IudHMiLCJ3ZWJwYWNrOi8vd2VicGFjay0xLjAvLi9zcmMvdmlld3MvZ2FyYWdlLnRzIiwid2VicGFjazovL3dlYnBhY2stMS4wLy4vc3JjL3ZpZXdzL3ZpZXcudHMiLCJ3ZWJwYWNrOi8vd2VicGFjay0xLjAvLi9zcmMvdmlld3Mvd2lubmVycy50cyIsIndlYnBhY2s6Ly93ZWJwYWNrLTEuMC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93ZWJwYWNrLTEuMC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3dlYnBhY2stMS4wLy4vc3JjL2FwcC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJ0eXBlIENhciA9IHtcclxuICAgIG5hbWU6IHN0cmluZyxcclxuICAgIGNvbG9yOiBzdHJpbmdcclxufTtcclxuXHJcbnR5cGUgTmV3Q2FyID0ge1xyXG4gICAgaWQ6IG51bWJlclxyXG4gICAgbmFtZTogc3RyaW5nLFxyXG4gICAgY29sb3I6IHN0cmluZ1xyXG59O1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNhcihjYXJPYmplY3Q6IENhcik6IFByb21pc2U8TmV3Q2FyPiB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwOi8vMTI3LjAuMC4xOjMwMDAvZ2FyYWdlJywge1xyXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGNhck9iamVjdCksXHJcbiAgICB9KTtcclxuICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XHJcbn1cclxuXHJcbiIsImV4cG9ydCB0eXBlIE5ld1dpbm5lciA9IHtcclxuICAgIGlkOiBudW1iZXIsXHJcbiAgICB3aW5zOiBudW1iZXIsXHJcbiAgICB0aW1lOiBudW1iZXJcclxufTtcclxuXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlV2lubmVyKHdpbm5lck9iamVjdDogTmV3V2lubmVyKTogUHJvbWlzZTxOZXdXaW5uZXI+IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHA6Ly8xMjcuMC4wLjE6MzAwMC93aW5uZXJzL2AsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh3aW5uZXJPYmplY3QpLFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG59IiwiZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUNhcihjYXJJRDogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBhd2FpdCBmZXRjaChgaHR0cDovLzEyNy4wLjAuMTozMDAwL2dhcmFnZS8ke2NhcklEfWAsIHtcclxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICB9KTtcclxufVxyXG4iLCJleHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlV2lubmVyKGNhcklEOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGF3YWl0IGZldGNoKGBodHRwOi8vMTI3LjAuMC4xOjMwMDAvd2lubmVycy8ke2NhcklEfWAsIHtcclxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICB9KTtcclxufSIsImV4cG9ydCBhc3luYyBmdW5jdGlvbiBkcml2ZU1vZGUoY2FyaWQ6IHN0cmluZyk6IFByb21pc2U8e3N0cmluZzogc3RyaW5nfSB8IHN0cmluZz4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwOi8vMTI3LjAuMC4xOjMwMDAvZW5naW5lP2lkPSR7Y2FyaWR9JnN0YXR1cz1kcml2ZWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0LfQsNC/0YDQvtGB0LU6ICcgKyByZXNwb25zZS5zdGF0dXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuICdlbmdpbmUgc3RvcHBlZCdcclxuICAgIH1cclxufVxyXG5cclxuIiwiaW1wb3J0IHsgZ2V0Q3Vycm50UGFnZSB9IGZyb20gXCIuLi9zdGF0ZS9jdXJyZW50UGFnZVwiO1xyXG5cclxuZXhwb3J0IHR5cGUgQ2FyID0ge1xyXG4gICAgbmFtZTogc3RyaW5nLFxyXG4gICAgY29sb3I6IHN0cmluZyxcclxuICAgIGlkOiBudW1iZXJcclxufTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDYXJzKCk6IFByb21pc2U8Q2FyW10+IHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCdodHRwOi8vMTI3LjAuMC4xOjMwMDAvZ2FyYWdlJyk7XHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcclxuICAgIHJldHVybiBkYXRhO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q2Fyc1BhZ2UoKTogUHJvbWlzZTxDYXJbXT4ge1xyXG4gICAgY29uc3QgY3VycmVudFBhZ2UgPSBnZXRDdXJybnRQYWdlKCk7XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgaHR0cDovLzEyNy4wLjAuMTozMDAwL2dhcmFnZT9fbGltaXQ9NyZfcGFnZT0ke2N1cnJlbnRQYWdlfWApO1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XHJcbiAgICByZXR1cm4gZGF0YTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEZpcnN0Q2FyTmV4dFBhZ2UoKTogUHJvbWlzZTxDYXI+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gTnVtYmVyKGdldEN1cnJudFBhZ2UoKSkgKyAxO1xyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYGh0dHA6Ly8xMjcuMC4wLjE6MzAwMC9nYXJhZ2U/X2xpbWl0PTcmX3BhZ2U9JHtjdXJyZW50UGFnZX1gKTtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xyXG4gICAgcmV0dXJuIGRhdGFbMF07XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDYXIoaWQ6IG51bWJlcik6IFByb21pc2U8Q2FyPiB7XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgaHR0cDovLzEyNy4wLjAuMTozMDAwL2dhcmFnZS8ke2lkfWApO1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XHJcbiAgICByZXR1cm4gZGF0YTtcclxufSIsImV4cG9ydCB0eXBlIFdpbm5lcnMgPSB7XHJcbiAgICBpZDogbnVtYmVyLFxyXG4gICAgd2luczogbnVtYmVyLFxyXG4gICAgdGltZTogbnVtYmVyXHJcbn07XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0V2lubmVyKGlkOiBudW1iZXIpOiBQcm9taXNlPFdpbm5lcnM+IHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGBodHRwOi8vMTI3LjAuMC4xOjMwMDAvd2lubmVycy8ke2lkfWApO1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XHJcbiAgICByZXR1cm4gZGF0YVxyXG59IiwiZXhwb3J0IHR5cGUgV2lubmVycyA9IHtcclxuICAgIGlkOiBudW1iZXIsXHJcbiAgICB3aW5zOiBudW1iZXIsXHJcbiAgICB0aW1lOiBudW1iZXJcclxufTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRXaW5uZXJzKHBhZ2U6IG51bWJlciwgbGltaXQ6IG51bWJlciwgc29ydDogc3RyaW5nLCBvcmdlcjogc3RyaW5nKTogUHJvbWlzZTxXaW5uZXJzW10+IHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGBodHRwOi8vMTI3LjAuMC4xOjMwMDAvd2lubmVycz9fcGFnZT0ke3BhZ2V9Jl9saW1pdD0ke2xpbWl0fSZfc29ydD0ke3NvcnR9Jl9vcmRlcj0ke29yZ2VyfWApO1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XHJcbiAgICByZXR1cm4gZGF0YVxyXG59IiwiZXhwb3J0IHR5cGUgV2lubmVycyA9IHtcclxuICAgIGlkOiBudW1iZXIsXHJcbiAgICB3aW5zOiBudW1iZXIsXHJcbiAgICB0aW1lOiBudW1iZXJcclxufTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRXaW5uZXJzQ291bnQoKTogUHJvbWlzZTxudW1iZXI+IHtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCdodHRwOi8vMTI3LjAuMC4xOjMwMDAvd2lubmVycycpO1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XHJcbiAgICByZXR1cm4gZGF0YS5sZW5ndGg7XHJcbn0iLCJ0eXBlIFJlcyA9IHtcclxuICAgIGRpc3RhbmNlOiBudW1iZXIsXHJcbiAgICB2ZWxvY2l0eTogbnVtYmVyXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdGFydENhckVuZ2luKGNhcmlkOiBzdHJpbmcsIGFjdGlvbjogc3RyaW5nKTogUHJvbWlzZTxudW1iZXI+IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYGh0dHA6Ly8xMjcuMC4wLjE6MzAwMC9lbmdpbmU/aWQ9JHtjYXJpZH0mc3RhdHVzPSR7YWN0aW9ufWAsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIlxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBkYXRhOiBSZXMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBjb25zdCB0aW1lID0gTnVtYmVyKChkYXRhLmRpc3RhbmNlIC8gZGF0YS52ZWxvY2l0eSAvIDEwMDApLnRvRml4ZWQoMikpO1xyXG4gICAgcmV0dXJuIHRpbWU7XHJcbn0iLCJ0eXBlIENhciA9IHtcclxuICAgIG5hbWU6IHN0cmluZyxcclxuICAgIGNvbG9yOiBzdHJpbmdcclxufTtcclxuXHJcbnR5cGUgVXBkYXRlZENhciA9IHtcclxuICAgIGlkOiBudW1iZXIsXHJcbiAgICBuYW1lOiBzdHJpbmcsXHJcbiAgICBjb2xvcjogc3RyaW5nXHJcbn07XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlQ2FyKGNhcklEOiBudW1iZXIsIGNhck9iamVjdDogQ2FyKTogUHJvbWlzZTxVcGRhdGVkQ2FyPiB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwOi8vMTI3LjAuMC4xOjMwMDAvZ2FyYWdlLyR7Y2FySUR9YCwge1xyXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY2FyT2JqZWN0KSxcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxufSIsImV4cG9ydCB0eXBlIFdpbm5lciA9IHtcclxuICAgIGlkPzogbnVtYmVyLFxyXG4gICAgd2luczogbnVtYmVyLFxyXG4gICAgdGltZTogbnVtYmVyXHJcbn07XHJcblxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVdpbm5lcihjYXJJRDogbnVtYmVyLCB3aW5uZXJPYmplY3Q6IFdpbm5lcik6IFByb21pc2U8V2lubmVyPiB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwOi8vMTI3LjAuMC4xOjMwMDAvd2lubmVycy8ke2NhcklEfWAsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHdpbm5lck9iamVjdCksXHJcbiAgICB9KTtcclxuICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XHJcbn0iLCJpbXBvcnQgeyBjYXJTdmcgfSBmcm9tIFwiLi4vaW1hZ2VzL2NhclN2Z1wiO1xyXG5pbXBvcnQgeyBDYXIgfSBmcm9tIFwiLi4vYXBpL2dldENhcnNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDYXJUZW1wZWxhdGUge1xyXG5cclxuICAgIGNhck5hbWU6IHN0cmluZztcclxuXHJcbiAgICBjYXJDb2xvcjogc3RyaW5nO1xyXG5cclxuICAgIGNhcklEOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY2FyT2JqZWN0OiBDYXIpIHtcclxuICAgICAgICB0aGlzLmNhck5hbWUgPSBjYXJPYmplY3QubmFtZTtcclxuICAgICAgICB0aGlzLmNhckNvbG9yID0gY2FyT2JqZWN0LmNvbG9yO1xyXG4gICAgICAgIHRoaXMuY2FySUQgPSBjYXJPYmplY3QuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkQ2FyKCk6IEhUTUxFbGVtZW50IHtcclxuICAgICAgICBjb25zdCBjYXJXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgY2FyV3JhcHBlci5jbGFzc05hbWUgPSAnY2FyLXdyYXBwZXInO1xyXG4gICAgICAgIGNhcldyYXBwZXIuaWQgPSBgJHt0aGlzLmNhcklEfWA7XHJcbiAgICAgICAgY2FyV3JhcHBlci5hcHBlbmQoXHJcbiAgICAgICAgICAgIHRoaXMuYWRkRGVsQnRuKCksXHJcbiAgICAgICAgICAgIHRoaXMuYWRkU2VsZWN0QnRuKCksXHJcbiAgICAgICAgICAgIHRoaXMuYWRkU3RhcnRCdG4oKSxcclxuICAgICAgICAgICAgdGhpcy5hZGRTdG9wQnRuKCksXHJcbiAgICAgICAgICAgIHRoaXMuYWRkQ2FyTmFtZSgpLFxyXG4gICAgICAgICAgICB0aGlzLmFkZENhckltZygpXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gY2FyV3JhcHBlcjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZENhck5hbWUoKTogSFRNTEVsZW1lbnQge1xyXG4gICAgICAgIGNvbnN0IGNhck5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBjYXJOYW1lLmNsYXNzTmFtZSA9ICdjYXItbmFtZSc7XHJcbiAgICAgICAgY2FyTmFtZS50ZXh0Q29udGVudCA9IHRoaXMuY2FyTmFtZTtcclxuICAgICAgICByZXR1cm4gY2FyTmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZENhckltZygpOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgY29uc3QgY2FySW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgY2FySW1nLmlubmVySFRNTCA9IGNhclN2Zyh0aGlzLmNhckNvbG9yKTtcclxuICAgICAgICByZXR1cm4gY2FySW1nO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkRGVsQnRuKCk6IEhUTUxCdXR0b25FbGVtZW50IHtcclxuICAgICAgICBjb25zdCBkZWxCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgICBkZWxCdG4udGV4dENvbnRlbnQgPSAnZGVsZXRlJztcclxuICAgICAgICByZXR1cm4gZGVsQnRuO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkU2VsZWN0QnRuKCk6IEhUTUxCdXR0b25FbGVtZW50IHtcclxuICAgICAgICBjb25zdCBzZWxlY3RCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgICBzZWxlY3RCdG4udGV4dENvbnRlbnQgPSAnc2VsZWN0JztcclxuICAgICAgICByZXR1cm4gc2VsZWN0QnRuO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkU3RhcnRCdG4oKTogSFRNTEJ1dHRvbkVsZW1lbnQge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgc3RhcnRCdG4udGV4dENvbnRlbnQgPSAnc3RhcnQnO1xyXG4gICAgICAgIHJldHVybiBzdGFydEJ0bjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZFN0b3BCdG4oKTogSFRNTEJ1dHRvbkVsZW1lbnQge1xyXG4gICAgICAgIGNvbnN0IHN0b3BCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgICBzdG9wQnRuLnRleHRDb250ZW50ID0gJ3N0b3AnO1xyXG4gICAgICAgIHN0b3BCdG4uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIHJldHVybiBzdG9wQnRuO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgV2lubmVycyB9IGZyb20gXCIuLi92aWV3cy93aW5uZXJzXCI7XHJcbmltcG9ydCB7IEdhcmFnZSB9IGZyb20gXCIuLi92aWV3cy9nYXJhZ2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTZWxlY3RWaWV3IHtcclxuXHJcbiAgICBwcml2YXRlIGdhcmFnZUJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuXHJcbiAgICBwcml2YXRlIHdpbm5lcnNCdG46IEhUTUxCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcblxyXG4gICAgcHJpdmF0ZSBnYXJhZ2UgPSBuZXcgR2FyYWdlKCk7XHJcblxyXG4gICAgcHJpdmF0ZSB3aW5uZXJzID0gbmV3IFdpbm5lcnMoKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmdhcmFnZUJ0bi50ZXh0Q29udGVudCA9ICdnYXJhZ2UnO1xyXG4gICAgICAgIHRoaXMud2lubmVyc0J0bi50ZXh0Q29udGVudCA9ICd3aW5uZXJzJztcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZCh0aGlzLmdhcmFnZUJ0bik7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmQodGhpcy53aW5uZXJzQnRuKTtcclxuICAgICAgICB0aGlzLmdhcmFnZS5hZGRWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VWaWV3KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjaGFuZ2VWaWV3KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ2FyYWdlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLndpbm5lcnMucmVtb3ZlVmlldygpO1xyXG4gICAgICAgICAgICB0aGlzLmdhcmFnZS5hZGRWaWV3KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy53aW5uZXJzQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmdhcmFnZS5yZW1vdmVWaWV3KCk7XHJcbiAgICAgICAgICAgIHRoaXMud2lubmVycy5hZGRWaWV3KCk7XHJcbiAgICAgICAgICAgIHRoaXMud2lubmVycy5tYWluLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgICAgICB0aGlzLndpbm5lcnMuYWRkSDFUZXh0KCk7XHJcbiAgICAgICAgICAgIHRoaXMud2lubmVycy5hZGRUYWJsZSgpO1xyXG4gICAgICAgICAgICB0aGlzLndpbm5lcnMucGFnaW5hdGlvbk5hdi5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgICAgdGhpcy53aW5uZXJzLmFkZFBhZ2luYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjb25zdCBjYXJTdmcgPSAoY29sb3I6IHN0cmluZyk6IHN0cmluZyA9PiBgPHN2ZyB2ZXJzaW9uPVwiMS4wXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXHJcbndpZHRoPVwiNTBweFwiIGhlaWdodD1cIjI1cHhcIiB2aWV3Qm94PVwiMCAwIDEyODAuMDAwMDAwIDY0MC4wMDAwMDBcIlxyXG5wcmVzZXJ2ZUFzcGVjdFJhdGlvPVwieE1pZFlNaWQgbWVldFwiPlxyXG48bWV0YWRhdGE+XHJcbkNyZWF0ZWQgYnkgcG90cmFjZSAxLjE1LCB3cml0dGVuIGJ5IFBldGVyIFNlbGluZ2VyIDIwMDEtMjAxN1xyXG48L21ldGFkYXRhPlxyXG48ZyB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoMC4wMDAwMDAsNjQwLjAwMDAwMCkgc2NhbGUoMC4xMDAwMDAsLTAuMTAwMDAwKVwiXHJcbmZpbGw9XCIjMDAwMDAwXCIgc3Ryb2tlPVwibm9uZVwiIHN0eWxlPVwiXHJcbmZpbGw6ICR7Y29sb3J9XCI+XHJcbjxwYXRoIGQ9XCJNMzU2NSA1MzM2IGMtMTA2IC0zMCAtMTAxIC0yNiAtMTA4IC0xMTEgLTQgLTQyIC05IC04MCAtMTIgLTg1IC02XHJcbi0xMCAtMjQ2IC0xMDUgLTU5MCAtMjM0IC00NDggLTE2NyAtMTA1MiAtNDE1IC0xMTczIC00ODMgLTc4IC00MyAtMTkzIC05MVxyXG4tMjUwIC0xMDQgLTIzIC01IC05OCAtMTQgLTE2NSAtMTkgLTY3IC02IC0xNjcgLTE5IC0yMjIgLTMwIC0xNTQgLTMxIC0zNDBcclxuLTQ5IC01NjMgLTU3IGwtMjAzIC02IC00MyAtNjYgYy01OSAtOTEgLTYwIC05NSAtMjYgLTEzMCAzNyAtMzcgMzggLTY1IDNcclxuLTE1MCAtMjUgLTYyIC0yNyAtNzggLTMxIC0yNTYgbC00IC0xOTAgLTM4IC0zMiBjLTkxIC03OCAtMTMzIC0yMDkgLTEzNCAtNDE4XHJcbjAgLTE5NCAxMSAtMzk2IDI2IC00ODIgMTMgLTcxIDE0IC03NCA3MiAtMTIyIDY5IC01OCAxMzAgLTEyOSAxNTggLTE4NCA2NFxyXG4tMTI2IDUzNCAtMjExIDEzODQgLTI1MCBsOTIgLTQgLTYgMTE5IGMtNiAxNDIgOCAyNTYgNDkgMzgzIDExMiAzNTIgMzk0IDYyMlxyXG43NTYgNzIyIDkwIDI2IDExMiAyOCAyNzggMjggMTY1IDAgMTg4IC0yIDI3OCAtMjcgMjAxIC01NiAzNjEgLTE1MiA1MDQgLTMwMlxyXG4xNDAgLTE0NSAyMjIgLTI5MyAyNzQgLTQ5MiAyMSAtNzkgMjQgLTEwOSAyMyAtMjc5IC0xIC0xMjcgLTYgLTIxNCAtMTYgLTI2M1xyXG5sLTE1IC03MyAzMDA2IDcgYzE2NTMgNCAzMDA3IDggMzAwOSA5IDEgMSAtOCAzNyAtMjAgODEgLTE5IDY3IC0yMiAxMDUgLTIyXHJcbjI1OSAtMSAxNjYgMSAxODcgMjcgMjc5IDExNyA0MjEgNDY3IDczNiA4ODUgNzk3IDExOSAxNyAzMjUgNyA0MzIgLTIxIDIzOVxyXG4tNjMgNDUzIC0yMDUgNjAxIC0zOTkgNzAgLTkyIDE1NCAtMjY3IDE4NSAtMzg2IDI0IC04OCAyNyAtMTE5IDI3IC0yNjAgMVxyXG4tMTE2IC00IC0xODEgLTE2IC0yMzQgLTEwIC00MSAtMTYgLTc1IC0xNSAtNzYgMiAtMSA2MiAyIDEzMyA2IDI2NiAxNiA0NTggNDVcclxuNTI1IDc5IDQ4IDI0IDk3IDgxIDEyNyAxNDYgbDI0IDUyIC0xNiAxNTcgYy0xNSAxNTIgLTE1IDE2MyA0IDI4NCA2MyAzODggNTBcclxuNjgwIC0zNSA4MDIgLTEzNCAxOTMgLTUyNiAzMzYgLTE0MjkgNTE5IC03MzcgMTQ5IC0xMzIyIDIwOSAtMjAzMyAyMTAgLTIyOCAwXHJcbi0yMjYgMCAtMzQ3IDg1IC0xODcgMTMxIC0xMDQ1IDYwNyAtMTQ3MSA4MTUgLTM4MyAxODcgLTc4OCAyODEgLTE0MzkgMzMyXHJcbi0yMDggMTcgLTExMDYgMTYgLTE0MDAgMCAtMTIxIC03IC0zMTQgLTE5IC00MzAgLTI3IC0zMDIgLTIyIC0yODYgLTIyIC0zNDFcclxuMTAgLTE0MCA4MSAtMTg3IDk0IC0yNjkgNzF6IG0xODg1IC0zMzMgYzYgLTM3IDM4IC0yMzggNzEgLTQ0NiAzMiAtMjA5IDY2XHJcbi00MjIgNzUgLTQ3NCA5IC01MiAxNSAtOTYgMTMgLTk3IC0xMSAtOSAtMTY5OSAyOSAtMTk1MSA0NCAtMjA2IDEzIC00MTcgMzZcclxuLTQ4NSA1NCAtOTggMjYgLTE5OCAxMTkgLTI0OSAyMzEgLTM1IDc1IC0zNiAxNzIgLTUgMjU1IDE3IDQ1IDMwIDYxIDY4IDg2IDgzXHJcbjU0IDEzNSA4MCAyNTMgMTI3IDM0MSAxMzYgODU4IDIzMCAxNDYwIDI2NyAyNjkgMTYgMjcwIDE2IDUxMSAxOCBsMjI3IDIgMTJcclxuLTY3eiBtNjMwIDQ3IGMyNjQgLTE4IDc3NyAtMTEwIDEwMjkgLTE4NiAxODYgLTU2IDQ0NSAtMTg4IDc1NiAtMzg3IDIxMSAtMTM0XHJcbjI3NCAtMTgxIDI1MCAtMTg1IC03NSAtMTIgLTEzMyAtNTAgLTE2MiAtMTA2IC0xOSAtMzUgLTIxIC0xMzYgLTQgLTE3OSBsMTFcclxuLTI3IC05MDcgMiAtOTA2IDMgLTU5IDE2MCBjLTExMCAzMDIgLTI5OCA4NzggLTI5OCA5MTYgMCA2IDk1IDIgMjkwIC0xMXpcIi8+XHJcbjxwYXRoIGQ9XCJNMjYzMyAzMTI1IGMtMjIzIC00MCAtNDEwIC0xNDEgLTU2OCAtMzA2IC0xMzIgLTEzOCAtMjEzIC0yODMgLTI2MlxyXG4tNDY3IC0yMiAtODMgLTI2IC0xMTkgLTI2IC0yNDcgLTEgLTE2OSAxMCAtMjM2IDY1IC0zODIgODcgLTIzMCAyNzEgLTQzNiA0OTNcclxuLTU1MSA4NSAtNDQgMTc4IC03OCAyNzEgLTk4IDEwNyAtMjMgMzEyIC0yMyA0MTkgMSAzOTIgODQgNjk5IDM3NSA4MDIgNzYxIDIzXHJcbjg2IDI2IDEyMCAyNyAyNTQgMSAxNTggLTUgMTk5IC00NiAzMzAgLTk4IDMxMCAtMzU1IDU2NyAtNjY4IDY2OSAtMTUwIDUwXHJcbi0zNTQgNjQgLTUwNyAzNnogbTM1MCAtMzAxIGMyNDkgLTU2IDQ1NyAtMjQ3IDU0MyAtNDk5IDI1IC03MiAyOCAtOTUgMjggLTIyMFxyXG4xIC0xNTMgLTE1IC0yMjggLTc0IC0zNDUgLTk0IC0xODYgLTI4MyAtMzM3IC00ODUgLTM4NiAtOTYgLTI0IC0yNjggLTI0IC0zNjBcclxuMCAtMzIwIDg0IC01NDQgMzU1IC01NjIgNjgxIC0yMCAzNTkgMjA5IDY3MyA1NTggNzY1IDk0IDI0IDI1MyAyNiAzNTIgNHpcIi8+XHJcbjxwYXRoIGQ9XCJNMjYwMCAyNjk3IGMtMzYgLTEzIC04NSAtMzYgLTEwOSAtNTEgbC00NCAtMjggMTE2IC0xMTUgYzgxIC04MiAxMjBcclxuLTExNCAxMzEgLTExMCAxNCA2IDE2IDI5IDE2IDE2NyAwIDE4NiA2IDE3OCAtMTEwIDEzN3pcIi8+XHJcbjxwYXRoIGQ9XCJNMjkyMCAyNTYxIGMwIC0xMzkgMiAtMTYyIDE2IC0xNjggMTEgLTQgNTAgMjggMTMwIDEwOCBsMTE1IDExNCAtMjhcclxuMjIgYy0zNCAyOCAtMTM4IDcwIC0xOTMgNzkgbC00MCA3IDAgLTE2MnpcIi8+XHJcbjxwYXRoIGQ9XCJNMjI4MiAyNDQ4IGMtMjggLTM2IC05MiAtMTkxIC05MiAtMjI1IDAgLTEwIDM0IC0xMyAxNjUgLTEzIDE1MSAwXHJcbjE2NSAxIDE2NSAxOCAwIDE1IC0yMDYgMjMyIC0yMjEgMjMyIC00IDAgLTExIC02IC0xNyAtMTJ6XCIvPlxyXG48cGF0aCBkPVwiTTMyMjIgMjM1MSBjLTYyIC01OSAtMTEyIC0xMTUgLTExMiAtMTI0IDAgLTE1IDE3IC0xNyAxNjUgLTE3IDEzMSAwXHJcbjE2NSAzIDE2NSAxMyAwIDQwIC02OSAyMDUgLTk1IDIyNyAtNyA2IC00OCAtMjcgLTEyMyAtOTl6XCIvPlxyXG48cGF0aCBkPVwiTTI3ODEgMjMzMiBjLTEyIC0yMiAxMSAtNjIgMzQgLTYyIDggMCAyMSAxMCAyOSAyMiAyMCAyOCA0IDU4IC0yOVxyXG41OCAtMTMgMCAtMjkgLTggLTM0IC0xOHpcIi8+XHJcbjxwYXRoIGQ9XCJNMjc0OSAyMTYxIGMtMzIgLTMzIC0zNyAtNjcgLTE0IC0xMTAgMjkgLTU3IDEwNCAtNjQgMTUxIC0xNCA1MyA1N1xyXG45IDE1MyAtNzEgMTUzIC0yNyAwIC00NCAtOCAtNjYgLTI5elwiLz5cclxuPHBhdGggZD1cIk0yNTcwIDIxMjUgYy0yNiAtMzIgMTMgLTgxIDQ4IC01OSAyNCAxNiAyNyA0NSA2IDYxIC0yMyAxNyAtMzkgMTZcclxuLTU0IC0yelwiLz5cclxuPHBhdGggZD1cIk0zMDA2IDIxMjQgYy0yMCAtMTkgLTIwIC0zOCAtMiAtNTQgMjMgLTE5IDYxIC04IDY0IDE4IDcgNDQgLTMyIDY3XHJcbi02MiAzNnpcIi8+XHJcbjxwYXRoIGQ9XCJNMjE5MCAxOTc1IGMwIC0yOSA0MSAtMTQwIDcyIC0xOTQgbDMxIC01MyAxMTcgMTE3IGM3MSA3MSAxMTYgMTIzXHJcbjExMyAxMzEgLTQgMTEgLTQwIDE0IC0xNjkgMTQgLTE0MSAwIC0xNjQgLTIgLTE2NCAtMTV6XCIvPlxyXG48cGF0aCBkPVwiTTMxMTAgMTk3MiBjMCAtOSA1MSAtNjggMTE0IC0xMzEgbDExNCAtMTE0IDMxIDU0IGMzMCA1MSA3MSAxNjUgNzFcclxuMTk1IDAgMTEgLTMxIDE0IC0xNjUgMTQgLTE1MSAwIC0xNjUgLTEgLTE2NSAtMTh6XCIvPlxyXG48cGF0aCBkPVwiTTI3ODAgMTkwMSBjLTcgLTE1IC01IC0yNCA4IC00MSAzMiAtNDAgODUgLTQgNjIgNDEgLTE0IDI1IC01NiAyNVxyXG4tNzAgMHpcIi8+XHJcbjxwYXRoIGQ9XCJNMjU2MiAxNjk3IGMtNjEgLTYyIC0xMTIgLTExNSAtMTEyIC0xMTkgMCAtMTggMjA4IC0xMDggMjQ5IC0xMDggN1xyXG4wIDExIDU0IDExIDE2NCAwIDE0MCAtMiAxNjUgLTE2IDE3MCAtOSAzIC0xNiA2IC0xNyA2IC0xIDAgLTUzIC01MSAtMTE1IC0xMTN6XCIvPlxyXG48cGF0aCBkPVwiTTI5MzMgMTgwMyBjLTE1IC02IC0xOSAtMzMzIC00IC0zMzMgNDYgMCAyNTEgODggMjUxIDEwOCAwIDkgLTIyM1xyXG4yMzIgLTIzMCAyMzEgLTMgMCAtMTEgLTMgLTE3IC02elwiLz5cclxuPHBhdGggZD1cIk0xMDcwMCAzMTE5IGMtMzkwIC04NCAtNjk2IC0zNzYgLTc5NyAtNzU5IC0zMSAtMTE3IC00MSAtMjkyIC0yNFxyXG4tNDExIDMzIC0yMjcgMTUwIC00NTMgMzE4IC02MDkgMjY3IC0yNTAgNjQzIC0zNDQgOTkzIC0yNDkgMTE3IDMyIDI4MyAxMThcclxuMzgwIDE5NiA0ODcgMzk2IDUxOCAxMTI4IDY3IDE1NjAgLTk3IDkzIC0xNjYgMTQwIC0yOTAgMTk4IC0xMzcgNjQgLTIzNSA4NlxyXG4tNDA3IDkxIC0xMjAgMyAtMTYyIDAgLTI0MCAtMTd6IG00NDUgLTMxMyBjMjM4IC04MSA0MDkgLTI1OCA0ODYgLTUwNiAzMCAtOTZcclxuMzMgLTI4OSA1IC0zODggLTExMCAtNDAwIC01MTMgLTYzNyAtOTExIC01MzYgLTE0OSAzOCAtMzEzIDE0NyAtNDAyIDI2NyAtMTc2XHJcbjIzOCAtMjAzIDUzMyAtNzEgNzk3IDM0IDY5IDYwIDEwMyAxMzggMTgwIDc3IDc4IDExMSAxMDQgMTgxIDEzOSAxMjkgNjUgMjA3XHJcbjgxIDM2NCA3NyAxMDkgLTMgMTQzIC03IDIxMCAtMzB6XCIvPlxyXG48cGF0aCBkPVwiTTEwNzAzIDI3MDAgYy01NCAtMTkgLTE1MyAtNzEgLTE1MyAtODAgMCAtMyA1MSAtNTcgMTE0IC0xMTkgODAgLTgwXHJcbjExOSAtMTEyIDEzMCAtMTA4IDE0IDUgMTYgMjkgMTYgMTY3IGwwIDE2MCAtMjcgLTEgYy0xNiAwIC01MiAtOSAtODAgLTE5elwiLz5cclxuPHBhdGggZD1cIk0xMTAyMCAyNTYxIGMwIC0xMzkgMiAtMTYyIDE2IC0xNjggMjIgLTggMjQ3IDIxNiAyMzQgMjMyIC0xNyAyMFxyXG4tMTYzIDg0IC0yMDcgOTEgbC00MyA3IDAgLTE2MnpcIi8+XHJcbjxwYXRoIGQ9XCJNMTAzNjYgMjQyNCBjLTI5IC00NCAtNzYgLTE2NSAtNzYgLTE5NCAwIC0xOSA3IC0yMCAxNjUgLTIwIDEyNiAwXHJcbjE2NSAzIDE2NSAxMyAwIDcgLTUxIDYzIC0xMTQgMTI2IGwtMTE0IDExNCAtMjYgLTM5elwiLz5cclxuPHBhdGggZD1cIk0xMTMxMyAyMzQ4IGMtNjEgLTYyIC0xMDkgLTExOSAtMTA2IC0xMjUgNiAtMTUgMzMzIC0xOSAzMzMgLTQgMCA0NVxyXG4tODggMjQxIC0xMDggMjQxIC00IDAgLTU3IC01MSAtMTE5IC0xMTJ6XCIvPlxyXG48cGF0aCBkPVwiTTEwODgyIDIzMzggYy0xNyAtMTcgLTE1IC0zMiA3IC01MiAxNiAtMTQgMjMgLTE1IDQxIC02IDMxIDE3IDI0IDY0XHJcbi0xMCA2OCAtMTQgMiAtMzEgLTMgLTM4IC0xMHpcIi8+XHJcbjxwYXRoIGQ9XCJNMTA4NDYgMjE1OSBjLTY4IC04MSAxNyAtMTk0IDExMCAtMTQ0IDg5IDQ4IDU2IDE3NSAtNDYgMTc1IC0zMCAwXHJcbi00NCAtNiAtNjQgLTMxelwiLz5cclxuPHBhdGggZD1cIk0xMDY3MCAyMTI2IGMtMTkgLTIzIC04IC02MSAxOCAtNjQgNDQgLTcgNjcgMzIgMzYgNjIgLTE5IDIwIC0zOCAyMFxyXG4tNTQgMnpcIi8+XHJcbjxwYXRoIGQ9XCJNMTExMDYgMjEyNyBjLTIxIC0xNiAtMTggLTQ1IDcgLTYxIDM3IC0yMyA3NyAzNSA0MSA2MSAtMTAgNyAtMjEgMTNcclxuLTI0IDEzIC0zIDAgLTE0IC02IC0yNCAtMTN6XCIvPlxyXG48cGF0aCBkPVwiTTEwMjkwIDE5NzAgYzAgLTI5IDQzIC0xNDEgNzQgLTE5NSBsMjggLTQ4IDExNiAxMTYgYzgxIDgxIDExMyAxMjBcclxuMTA5IDEzMSAtNiAxNCAtMjkgMTYgLTE2NyAxNiAtMTUyIDAgLTE2MCAtMSAtMTYwIC0yMHpcIi8+XHJcbjxwYXRoIGQ9XCJNMTEyMDcgMTk3OCBjLTMgLTcgNDcgLTY2IDExMSAtMTMwIGwxMTYgLTExOCAyNyA0MyBjMjcgNDQgNzkgMTc3XHJcbjc5IDIwMyAwIDEyIC0yOCAxNCAtMTY0IDE0IC0xMjIgMCAtMTY2IC0zIC0xNjkgLTEyelwiLz5cclxuPHBhdGggZD1cIk0xMDg4MSAxOTAxIGMtMTQgLTI1IC01IC00OCAyMCAtNTYgMjcgLTkgNTEgMTMgNDcgNDQgLTQgMzQgLTUxIDQzXHJcbi02NyAxMnpcIi8+XHJcbjxwYXRoIGQ9XCJNMTA2NjIgMTY5NyBjLTYxIC02MiAtMTEyIC0xMTUgLTExMiAtMTE5IDAgLTIwIDIwMSAtMTA4IDI0NyAtMTA4XHJcbjEwIDAgMTMgMzQgMTMgMTY0IDAgMTQwIC0yIDE2NSAtMTYgMTcwIC05IDMgLTE2IDYgLTE3IDYgLTEgMCAtNTMgLTUxIC0xMTVcclxuLTExM3pcIi8+XHJcbjxwYXRoIGQ9XCJNMTEwMzMgMTgwMyBjLTEwIC0zIC0xMyAtNDcgLTEzIC0xNjkgMCAtOTAgNCAtMTY0IDggLTE2NCAzNiAwIDE4NlxyXG42MSAyMzkgOTggMTYgMTAgLTIxNiAyNDIgLTIzNCAyMzV6XCIvPlxyXG48L2c+XHJcbjwvc3ZnPmBcclxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJudFBhZ2UoKTogc3RyaW5nIHtcclxuICAgIGxldCBjdXJyZW50UGFnZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXJyZW50UGFnZScpO1xyXG4gICAgaWYgKCFjdXJyZW50UGFnZSkgY3VycmVudFBhZ2UgPSAnMSc7XHJcbiAgICByZXR1cm4gY3VycmVudFBhZ2U7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRDdXJybnRQYWdlKHBhZ2U6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2N1cnJlbnRQYWdlJywgcGFnZSk7XHJcbn0iLCJleHBvcnQgZnVuY3Rpb24gZ2V0Q3Vycm50UGFnZVdpbm5lcnMoKTogc3RyaW5nIHtcclxuICAgIGxldCBjdXJyZW50UGFnZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXJyZW50UGFnZVdpbm5lcnMnKTtcclxuICAgIGlmICghY3VycmVudFBhZ2UpIGN1cnJlbnRQYWdlID0gJzEnO1xyXG4gICAgcmV0dXJuIGN1cnJlbnRQYWdlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0Q3Vycm50UGFnZVdpbm5lcnMocGFnZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3VycmVudFBhZ2VXaW5uZXJzJywgcGFnZSk7XHJcbn0iLCJjb25zdCBjYXJCcmFuZHMgPSBbXHJcbiAgICBcIkFjdXJhXCIsXHJcbiAgICBcIkFsZmEgUm9tZW9cIixcclxuICAgIFwiQXN0b24gTWFydGluXCIsXHJcbiAgICBcIkF1ZGlcIixcclxuICAgIFwiQmVudGxleVwiLFxyXG4gICAgXCJCTVdcIixcclxuICAgIFwiQnVnYXR0aVwiLFxyXG4gICAgXCJCdWlja1wiLFxyXG4gICAgXCJDYWRpbGxhY1wiLFxyXG4gICAgXCJDaGV2cm9sZXRcIixcclxuICAgIFwiQ2hyeXNsZXJcIixcclxuICAgIFwiQ2l0cm/Dq25cIixcclxuICAgIFwiRG9kZ2VcIixcclxuICAgIFwiRmVycmFyaVwiLFxyXG4gICAgXCJGaWF0XCIsXHJcbiAgICBcIkZvcmRcIixcclxuICAgIFwiR2VuZXNpc1wiLFxyXG4gICAgXCJHTUNcIixcclxuICAgIFwiSG9uZGFcIixcclxuICAgIFwiSHl1bmRhaVwiLFxyXG4gICAgXCJJbmZpbml0aVwiLFxyXG4gICAgXCJKYWd1YXJcIixcclxuICAgIFwiSmVlcFwiLFxyXG4gICAgXCJLaWFcIixcclxuICAgIFwiS29lbmlnc2VnZ1wiLFxyXG4gICAgXCJMYW1ib3JnaGluaVwiLFxyXG4gICAgXCJMYW5kIFJvdmVyXCIsXHJcbiAgICBcIkxleHVzXCIsXHJcbiAgICBcIkxpbmNvbG5cIixcclxuICAgIFwiTG90dXNcIixcclxuICAgIFwiTWFzZXJhdGlcIixcclxuICAgIFwiTWF6ZGFcIixcclxuICAgIFwiTWNMYXJlblwiLFxyXG4gICAgXCJNZXJjZWRlcy1CZW56XCIsXHJcbiAgICBcIk1pbmlcIixcclxuICAgIFwiTWl0c3ViaXNoaVwiLFxyXG4gICAgXCJOaXNzYW5cIixcclxuICAgIFwiUGFnYW5pXCIsXHJcbiAgICBcIlBvcnNjaGVcIixcclxuICAgIFwiUmFtXCIsXHJcbiAgICBcIlJvbGxzLVJveWNlXCIsXHJcbiAgICBcIlN1YmFydVwiLFxyXG4gICAgXCJTdXp1a2lcIixcclxuICAgIFwiVGVzbGFcIixcclxuICAgIFwiVG95b3RhXCIsXHJcbiAgICBcIlZvbGtzd2FnZW5cIixcclxuICAgIFwiVm9sdm9cIixcclxuXTtcclxuXHJcbmNvbnN0IGNhck1vZGVscyA9IFtcclxuICAgIFwiSUxYXCIsIFwiTURYXCIsIFwiUkRYXCIsIFwiVExYXCIsXHJcbiAgICBcIkdpdWxpYVwiLCBcIlN0ZWx2aW9cIixcclxuICAgIFwiREIxMVwiLCBcIkRCUyBTdXBlcmxlZ2dlcmFcIiwgXCJWYW50YWdlXCIsXHJcbiAgICBcIkEzXCIsIFwiQTRcIiwgXCJBNlwiLCBcIlE1XCIsIFwiUTdcIiwgXCJSOFwiLFxyXG4gICAgXCJCZW50YXlnYVwiLCBcIkNvbnRpbmVudGFsIEdUXCIsIFwiRmx5aW5nIFNwdXJcIixcclxuICAgIFwiMyBTZXJpZXNcIiwgXCI1IFNlcmllc1wiLCBcIjcgU2VyaWVzXCIsIFwiWDNcIiwgXCJYNVwiLCBcIlg3XCIsIFwiWjRcIixcclxuICAgIFwiQ2hpcm9uXCIsIFwiRGl2b1wiLFxyXG4gICAgXCJFbmNsYXZlXCIsIFwiRW5jb3JlXCIsIFwiRW52aXNpb25cIixcclxuICAgIFwiRXNjYWxhZGVcIiwgXCJYVDVcIiwgXCJYVDZcIixcclxuICAgIFwiQ2FtYXJvXCIsIFwiRXF1aW5veFwiLCBcIlNpbHZlcmFkb1wiLCBcIlN1YnVyYmFuXCIsIFwiVGFob2VcIiwgXCJUcmF2ZXJzZVwiLFxyXG5dO1xyXG5cclxuZnVuY3Rpb24gZ2V0UmFuZG9tKGFycjogc3RyaW5nW10pOiBzdHJpbmcge1xyXG4gICAgY29uc3QgbnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKChhcnIubGVuZ3RoIC0gMSkgKyAxKSk7XHJcbiAgICByZXR1cm4gYXJyW251bWJlcl07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21DYXJOYW1lKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYCR7Z2V0UmFuZG9tKGNhckJyYW5kcyl9ICR7Z2V0UmFuZG9tKGNhck1vZGVscyl9YDtcclxufSIsImV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21Db2xvckhleCgpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgbGV0dGVycyA9IFwiMDEyMzQ1Njc4OUFCQ0RFRlwiO1xyXG4gICAgbGV0IGNvbG9yID0gXCIjXCI7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykge1xyXG4gICAgICBjb2xvciArPSBsZXR0ZXJzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE2KV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29sb3I7XHJcbiAgfSIsImltcG9ydCB7IENhclRlbXBlbGF0ZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NhclwiO1xyXG5pbXBvcnQgeyBnZXRDYXJzLCBnZXRDYXJzUGFnZSwgZ2V0Rmlyc3RDYXJOZXh0UGFnZSwgZ2V0Q2FyIH0gZnJvbSBcIi4uL2FwaS9nZXRDYXJzXCI7XHJcbmltcG9ydCB7IFZpZXcgfSBmcm9tIFwiLi92aWV3XCI7XHJcbmltcG9ydCB7IGNyZWF0ZUNhciB9IGZyb20gXCIuLi9hcGkvY3JlYXRlQ2FyXCI7XHJcbmltcG9ydCB7IGRlbGV0ZUNhciB9IGZyb20gXCIuLi9hcGkvZGVsZXRlQ2FyXCI7XHJcbmltcG9ydCB7IHVwZGF0ZUNhciB9IGZyb20gXCIuLi9hcGkvdXBkYXRlQ2FyXCI7XHJcbmltcG9ydCB7IGdldFJhbmRvbUNhck5hbWUgfSBmcm9tIFwiLi4vdXRpbHMvcmFuZG9tQ2FyTmFtZVwiO1xyXG5pbXBvcnQgeyBnZXRSYW5kb21Db2xvckhleCB9IGZyb20gXCIuLi91dGlscy9yYW5kb21Db2xvclwiO1xyXG5pbXBvcnQgeyBnZXRDdXJybnRQYWdlLCBzZXRDdXJybnRQYWdlIH0gZnJvbSBcIi4uL3N0YXRlL2N1cnJlbnRQYWdlXCI7XHJcbmltcG9ydCB7IHN0YXJ0Q2FyRW5naW4gfSBmcm9tIFwiLi4vYXBpL3N0YXJ0Q2FyXCI7XHJcbmltcG9ydCB7IGRyaXZlTW9kZSB9IGZyb20gXCIuLi9hcGkvZHJpdmVNb2RlXCI7XHJcbmltcG9ydCB7IGdldFdpbm5lciB9IGZyb20gXCIuLi9hcGkvZ2V0V2lubmVyXCI7XHJcbmltcG9ydCB7IFdpbm5lciwgdXBkYXRlV2lubmVyIH0gZnJvbSBcIi4uL2FwaS91cGRhdGVXaW5uZXJcIjtcclxuaW1wb3J0IHsgTmV3V2lubmVyLCBjcmVhdGVXaW5uZXIgfSBmcm9tIFwiLi4vYXBpL2NyZWF0ZVdpbm5lclwiO1xyXG5pbXBvcnQgeyBkZWxldGVXaW5uZXIgfSBmcm9tIFwiLi4vYXBpL2RlbGV0ZVdpbm5lclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhcmFnZSBleHRlbmRzIFZpZXcge1xyXG5cclxuICAgIHByaXZhdGUgc2VsZWN0ZWRDYXI6IG51bWJlciB8IG51bGwgPSBudWxsO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5hZGRIMVRleHQoKTtcclxuICAgICAgICB0aGlzLmFkZEgyVGV4dCgpO1xyXG4gICAgICAgIHRoaXMuYWRkQ2FycygpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQ2FyKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVlQ2FyKCk7XHJcbiAgICAgICAgdGhpcy5nZW5lcmF0ZUNhcnMoKTtcclxuICAgICAgICB0aGlzLnN0YXJ0UmFjZSgpO1xyXG4gICAgICAgIHRoaXMucmVzZXRSYWNlKCk7XHJcbiAgICAgICAgdGhpcy5jYXJFdmVudHMoKTtcclxuICAgICAgICB0aGlzLmFkZFBhZ2luYXRpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIGFkZEgxVGV4dCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCBjYXJDb3VudCA9IGF3YWl0IGdldENhcnMoKTtcclxuICAgICAgICB0aGlzLmgxLnRleHRDb250ZW50ID0gYEdhcmFnZSAoJHtjYXJDb3VudC5sZW5ndGh9KWBcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIGFkZEgyVGV4dCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICB0aGlzLmgyLnRleHRDb250ZW50ID0gYFBhZ2UgIyR7Z2V0Q3Vycm50UGFnZSgpfWBcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIGFkZENhcnMoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3QgY2FycyA9IGF3YWl0IGdldENhcnNQYWdlKCk7XHJcbiAgICAgICAgY2Fycy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjYXIgPSBuZXcgQ2FyVGVtcGVsYXRlKGl0ZW0pO1xyXG4gICAgICAgICAgICB0aGlzLm1haW4uYXBwZW5kKGNhci5hZGRDYXIoKSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZFBhZ2luYXRpb24oKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgcHJldkJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgIHByZXZCdG4udGV4dENvbnRlbnQgPSAncHJldic7XHJcbiAgICAgICAgY29uc3QgbmV4dEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgIG5leHRCdG4udGV4dENvbnRlbnQgPSAnbmV4dCc7XHJcbiAgICAgICAgdGhpcy5wYWdpbmF0aW9uTmF2LmFwcGVuZChwcmV2QnRuLCBuZXh0QnRuKTtcclxuXHJcbiAgICAgICAgY29uc3QgZGlzYWJsZXIgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChnZXRDdXJybnRQYWdlKCkgPT09ICcxJykge1xyXG4gICAgICAgICAgICAgICAgcHJldkJ0bi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2QnRuLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKE51bWJlcihnZXRDdXJybnRQYWdlKCkpID49IChhd2FpdCBnZXRDYXJzKCkpLmxlbmd0aCAvIDcpIHtcclxuICAgICAgICAgICAgICAgIG5leHRCdG4uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbmV4dEJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBkaXNhYmxlcigpO1xyXG5cclxuICAgICAgICBuZXh0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm1haW4uaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gKE51bWJlcihnZXRDdXJybnRQYWdlKCkpICsgMSkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgc2V0Q3Vycm50UGFnZShjdXJyZW50UGFnZSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkQ2FycygpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZEgyVGV4dCgpO1xyXG4gICAgICAgICAgICBkaXNhYmxlcigpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHByZXZCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubWFpbi5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudFBhZ2UgPSAoTnVtYmVyKGdldEN1cnJudFBhZ2UoKSkgLSAxKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICBzZXRDdXJybnRQYWdlKGN1cnJlbnRQYWdlKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRIMlRleHQoKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRDYXJzKCk7XHJcbiAgICAgICAgICAgIGRpc2FibGVyKCk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBnZXRTZWxlY3RlZENhcigpOiBudW1iZXIgfCBudWxsIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZENhcjtcclxuICAgIH1cclxuXHJcbiAgICBzZXRTZWxlY3RlZENhcihldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIGlmIChldmVudC50YXJnZXQgaW5zdGFuY2VvZiBIVE1MQnV0dG9uRWxlbWVudCAmJlxyXG4gICAgICAgICAgICBldmVudC50YXJnZXQudGV4dENvbnRlbnQgPT09ICdzZWxlY3QnICYmXHJcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnROb2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZENhciA9IE51bWJlcihldmVudC50YXJnZXQucGFyZW50Tm9kZS5pZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY3JlYXRlQ2FyKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICAgICAgY29uc3QgaW5wdXROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICBpbnB1dE5hbWUudHlwZSA9ICd0ZXh0JztcclxuICAgICAgICBjb25zdCBpbnB1dENvbG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICBpbnB1dENvbG9yLnR5cGUgPSAnY29sb3InO1xyXG4gICAgICAgIGNvbnN0IHN1Ym1pdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgIHN1Ym1pdEJ0bi50ZXh0Q29udGVudCA9ICdjcmVhdGUnO1xyXG5cclxuICAgICAgICBmb3JtLmFwcGVuZChpbnB1dE5hbWUsIGlucHV0Q29sb3IsIHN1Ym1pdEJ0bik7XHJcbiAgICAgICAgdGhpcy5uYXYuYXBwZW5kKGZvcm0pO1xyXG5cclxuICAgICAgICBzdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhciA9IHtcclxuICAgICAgICAgICAgICAgIFwibmFtZVwiOiBpbnB1dE5hbWUudmFsdWUsXHJcbiAgICAgICAgICAgICAgICBcImNvbG9yXCI6IGlucHV0Q29sb3IudmFsdWVcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgbmV3Q2FyID0gbmV3IENhclRlbXBlbGF0ZShhd2FpdCBjcmVhdGVDYXIoY2FyKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5leHRCdG4gPSB0aGlzLnBhZ2luYXRpb25OYXYuY2hpbGROb2Rlc1sxXSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuICAgICAgICAgICAgaWYgKHRoaXMubWFpbi5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gNykgbmV4dEJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tYWluLmNoaWxkTm9kZXMubGVuZ3RoIDwgNykgdGhpcy5tYWluLmFwcGVuZChuZXdDYXIuYWRkQ2FyKCkpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZEgxVGV4dCgpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVlQ2FyKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICAgICAgY29uc3QgaW5wdXROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICBpbnB1dE5hbWUudHlwZSA9ICd0ZXh0JztcclxuICAgICAgICBjb25zdCBpbnB1dENvbG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICBpbnB1dENvbG9yLnR5cGUgPSAnY29sb3InO1xyXG4gICAgICAgIGNvbnN0IHN1Ym1pdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgIHN1Ym1pdEJ0bi50ZXh0Q29udGVudCA9ICd1cGRhdGUnO1xyXG5cclxuICAgICAgICBmb3JtLmFwcGVuZChpbnB1dE5hbWUsIGlucHV0Q29sb3IsIHN1Ym1pdEJ0bik7XHJcbiAgICAgICAgdGhpcy5uYXYuYXBwZW5kKGZvcm0pO1xyXG5cclxuICAgICAgICBzdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhciA9IHtcclxuICAgICAgICAgICAgICAgIFwibmFtZVwiOiBpbnB1dE5hbWUudmFsdWUsXHJcbiAgICAgICAgICAgICAgICBcImNvbG9yXCI6IGlucHV0Q29sb3IudmFsdWVcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRDYXJJZDogbnVtYmVyIHwgbnVsbCA9IHRoaXMuZ2V0U2VsZWN0ZWRDYXIoKTtcclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkQ2FySWQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRDYXIgPSAobmV3IENhclRlbXBlbGF0ZShhd2FpdCB1cGRhdGVDYXIoc2VsZWN0ZWRDYXJJZCwgY2FyKSkpLmFkZENhcigpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRDYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtzZWxlY3RlZENhcklkfWApIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYWluLnJlcGxhY2VDaGlsZCh1cGRhdGVkQ2FyLCBzZWxlY3RlZENhcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2VuZXJhdGVDYXJzKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGdlbmVyYXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgZ2VuZXJhdGVCdG4udGV4dENvbnRlbnQgPSAnZ2VuZXJhdGUnO1xyXG5cclxuICAgICAgICB0aGlzLm5hdi5hcHBlbmQoZ2VuZXJhdGVCdG4pO1xyXG5cclxuICAgICAgICBnZW5lcmF0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbmV4dEJ0biA9IHRoaXMucGFnaW5hdGlvbk5hdi5jaGlsZE5vZGVzWzFdIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgICAgICAgICBuZXh0QnRuLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNhciA9IHtcclxuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogYCR7Z2V0UmFuZG9tQ2FyTmFtZSgpfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBgJHtnZXRSYW5kb21Db2xvckhleCgpfWBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NhciA9IG5ldyBDYXJUZW1wZWxhdGUoYXdhaXQgY3JlYXRlQ2FyKGNhcikpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWFpbi5jaGlsZE5vZGVzLmxlbmd0aCA8IDcpIHRoaXMubWFpbi5hcHBlbmQobmV3Q2FyLmFkZENhcigpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkSDFUZXh0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgc3RhcnRSYWNlKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IHJhY2VCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuXHJcbiAgICAgICAgcmFjZUJ0bi50ZXh0Q29udGVudCA9ICdyYWNlJztcclxuICAgICAgICB0aGlzLm5hdi5hcHBlbmQocmFjZUJ0bik7XHJcbiAgICAgICAgY29uc3QgY2FycyA9IHRoaXMubWFpbi5jaGlsZE5vZGVzO1xyXG5cclxuICAgICAgICByYWNlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwcm9taXNlczogUHJvbWlzZTx7XHJcbiAgICAgICAgICAgICAgICB0aW1lOiBudW1iZXI7XHJcbiAgICAgICAgICAgICAgICBpZDogc3RyaW5nO1xyXG4gICAgICAgICAgICB9PltdID0gW107XHJcblxyXG4gICAgICAgICAgICBjYXJzLmZvckVhY2goYXN5bmMgaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmFjZUJ0bi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRCdG4gPSBpdGVtLmNoaWxkTm9kZXNbMl0gYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRCdG4uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0b3BCdG4gPSBpdGVtLmNoaWxkTm9kZXNbM10gYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RvcEJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcklEID0gaXRlbS5pZDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb24gPSAnc3RhcnRlZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FyID0gaXRlbS5jaGlsZE5vZGVzWzVdLmZpcnN0Q2hpbGQgYXMgSFRNTEVsZW1lbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVQcm9taXNlID0gc3RhcnRDYXJFbmdpbihjYXJJRCwgYWN0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihhc3luYyAodGltZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyLnN0eWxlLnRyYW5zaXRpb24gPSBgYWxsICR7dGltZX1zIGxpbmVhcmA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXIuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHtkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoIC0gNTB9cHgpYDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZ2luZSA9IGF3YWl0IGRyaXZlTW9kZShjYXJJRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW5naW5lID09PSAnZW5naW5lIHN0b3BwZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RvcFBvc2l0aW9uID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoY2FyKS5nZXRQcm9wZXJ0eVZhbHVlKCd0cmFuc2Zvcm0nKS5zcGxpdCgnLCAnKVs0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXIuc3R5bGUudHJhbnNpdGlvbiA9IGBhbGwgMHMgbGluZWFyYDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXIuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHtzdG9wUG9zaXRpb259cHgpYDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZTx2b2lkPihyZXNvbHZlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdGFydENhckVuZ2luKGNhcklELCAnc3RvcHBlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiB0aW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBjYXJJRCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKHRpbWVQcm9taXNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQcm9taXNlLnJhY2UocHJvbWlzZXMpO1xyXG4gICAgICAgICAgICBjb25zdCBjYXIgPSBhd2FpdCBnZXRDYXIoTnVtYmVyKHJlc3VsdC5pZCkpXHJcbiAgICAgICAgICAgIHRoaXMud2lubmVyUG9wVXAoY2FyLm5hbWUsIHJlc3VsdC50aW1lKTtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVXaW5uZXIoY2FyLmlkLCByZXN1bHQudGltZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHdpbm5lclBvcFVwKGNhck5hbWU6IHN0cmluZywgdGltZTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9ICd3aW5uZXItcG9wdXAnO1xyXG4gICAgICAgIGNvbnRhaW5lci50ZXh0Q29udGVudCA9IGAke2Nhck5hbWV9IHdlbnQgZmlyc3QgKCR7dGltZX1zKWA7XHJcbiAgICAgICAgdGhpcy5tYWluLmFwcGVuZChjb250YWluZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgY3JlYXRlV2lubmVyKGNhcklEOiBudW1iZXIsIHRpbWU6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IHdpbm5lciA9IGF3YWl0IGdldFdpbm5lcihjYXJJRCk7XHJcbiAgICAgICAgaWYgKHdpbm5lci5pZCkge1xyXG4gICAgICAgICAgICBpZiAod2lubmVyLnRpbWUgPiB0aW1lKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB3aW5uZXJPYmplY3Q6IFdpbm5lciA9IHtcclxuICAgICAgICAgICAgICAgICAgICBcIndpbnNcIjogd2lubmVyLndpbnMgKyAxLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidGltZVwiOiB0aW1lXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVXaW5uZXIod2lubmVyLmlkLCB3aW5uZXJPYmplY3QpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgd2lubmVyT2JqZWN0OiBXaW5uZXIgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJ3aW5zXCI6IHdpbm5lci53aW5zICsgMSxcclxuICAgICAgICAgICAgICAgICAgICBcInRpbWVcIjogd2lubmVyLnRpbWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHVwZGF0ZVdpbm5lcih3aW5uZXIuaWQsIHdpbm5lck9iamVjdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCB3aW5uZXJPYmplY3Q6IE5ld1dpbm5lciA9IHtcclxuICAgICAgICAgICAgICAgIFwiaWRcIjogY2FySUQsXHJcbiAgICAgICAgICAgICAgICBcIndpbnNcIjogMSxcclxuICAgICAgICAgICAgICAgIFwidGltZVwiOiB0aW1lXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3JlYXRlV2lubmVyKHdpbm5lck9iamVjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIHJlc2V0UmFjZSgpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCByZXNldEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgIGNvbnN0IHJhY2VCdG4gPSB0aGlzLm5hdi5jaGlsZE5vZGVzWzNdIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgICAgIHJlc2V0QnRuLnRleHRDb250ZW50ID0gJ3Jlc2V0JztcclxuICAgICAgICB0aGlzLm5hdi5hcHBlbmQocmVzZXRCdG4pO1xyXG5cclxuICAgICAgICByZXNldEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2FycyA9IHRoaXMubWFpbi5jaGlsZE5vZGVzO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tYWluLmxhc3RDaGlsZCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1haW4ubGFzdENoaWxkLmNsYXNzTGlzdC5jb250YWlucygnd2lubmVyLXBvcHVwJykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFpbi5sYXN0Q2hpbGQucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2Fycy5mb3JFYWNoKGFzeW5jIGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0QnRuID0gaXRlbS5jaGlsZE5vZGVzWzJdIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0b3BCdG4gPSBpdGVtLmNoaWxkTm9kZXNbM10gYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RvcEJ0bi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FySUQgPSBpdGVtLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbiA9ICdzdG9wcGVkJztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXIgPSBpdGVtLmNoaWxkTm9kZXNbNV0uZmlyc3RDaGlsZCBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdGFydENhckVuZ2luKGNhcklELCBhY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhci5zdHlsZS50cmFuc2l0aW9uID0gYGFsbCAwcyBsaW5lYXJgO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhci5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgwcHgpYDtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydEJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJhY2VCdG4uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2FyRXZlbnRzKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubWFpbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2FyKGUpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFNlbGVjdGVkQ2FyKGUpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0Q2FyKGUpO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3BDYXIoZSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIHJlbW92ZUNhcihldmVudDogTW91c2VFdmVudCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGlmIChldmVudC50YXJnZXQgaW5zdGFuY2VvZiBIVE1MQnV0dG9uRWxlbWVudCAmJlxyXG4gICAgICAgICAgICBldmVudC50YXJnZXQudGV4dENvbnRlbnQgPT09ICdkZWxldGUnICYmXHJcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnROb2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcclxuXHJcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXh0QnRuID0gdGhpcy5wYWdpbmF0aW9uTmF2LmNoaWxkTm9kZXNbMV0gYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGlmIChOdW1iZXIoZ2V0Q3Vycm50UGFnZSgpKSA8IChhd2FpdCBnZXRDYXJzKCkpLmxlbmd0aCAvIDcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NhciA9IChuZXcgQ2FyVGVtcGVsYXRlKGF3YWl0IGdldEZpcnN0Q2FyTmV4dFBhZ2UoKSkpLmFkZENhcigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYWluLmFwcGVuZChuZXdDYXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF3YWl0IGRlbGV0ZUNhcihOdW1iZXIoZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUuaWQpKTtcclxuICAgICAgICAgICAgZGVsZXRlV2lubmVyKE51bWJlcihldmVudC50YXJnZXQucGFyZW50Tm9kZS5pZCkpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZEgxVGV4dCgpO1xyXG4gICAgICAgICAgICBpZiAoTnVtYmVyKGdldEN1cnJudFBhZ2UoKSkgPT09IChhd2FpdCBnZXRDYXJzKCkpLmxlbmd0aCAvIDcpIG5leHRCdG4uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIHN0YXJ0Q2FyKGV2ZW50OiBNb3VzZUV2ZW50KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEhUTUxCdXR0b25FbGVtZW50ICYmXHJcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC50ZXh0Q29udGVudCA9PT0gJ3N0YXJ0JyAmJlxyXG4gICAgICAgICAgICBldmVudC50YXJnZXQucGFyZW50Tm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmXHJcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLmNoaWxkTm9kZXNbNV0gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgc3RhcnRCdG4gPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3B0QnRuID0gZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUuY2hpbGROb2Rlc1szXSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuICAgICAgICAgICAgc3RvcHRCdG4uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgc3RhcnRCdG4uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zdCBjYXJJRCA9IGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLmlkO1xyXG4gICAgICAgICAgICBjb25zdCBhY3Rpb24gPSAnc3RhcnRlZCc7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhciA9IGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLmNoaWxkTm9kZXNbNV0uZmlyc3RDaGlsZCBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICAgICAgY2FyLnN0eWxlLnRyYW5zaXRpb24gPSBgYWxsICR7YXdhaXQgc3RhcnRDYXJFbmdpbihjYXJJRCwgYWN0aW9uKX1zIGxpbmVhcmA7XHJcbiAgICAgICAgICAgIGNhci5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke2RvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggLSA1MH1weClgO1xyXG4gICAgICAgICAgICBjb25zdCBlbmdpbmUgPSBhd2FpdCBkcml2ZU1vZGUoY2FySUQpO1xyXG4gICAgICAgICAgICBpZiAoZW5naW5lID09PSAnZW5naW5lIHN0b3BwZWQnKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9wUG9zaXRpb24gPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShjYXIpLmdldFByb3BlcnR5VmFsdWUoJ3RyYW5zZm9ybScpLnNwbGl0KCcsICcpWzRdO1xyXG4gICAgICAgICAgICAgICAgY2FyLnN0eWxlLnRyYW5zaXRpb24gPSBgYWxsIDBzIGxpbmVhcmA7XHJcbiAgICAgICAgICAgICAgICBjYXIuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHtzdG9wUG9zaXRpb259cHgpYDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIHN0b3BDYXIoZXZlbnQ6IE1vdXNlRXZlbnQpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEJ1dHRvbkVsZW1lbnQgJiZcclxuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnRleHRDb250ZW50ID09PSAnc3RvcCcgJiZcclxuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJlxyXG4gICAgICAgICAgICBldmVudC50YXJnZXQucGFyZW50Tm9kZS5jaGlsZE5vZGVzWzVdIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0QnRuID0gZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUuY2hpbGROb2Rlc1syXSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuICAgICAgICAgICAgY29uc3Qgc3RvcEJ0biA9IGV2ZW50LnRhcmdldDtcclxuICAgICAgICAgICAgc3RvcEJ0bi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhcklEID0gZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUuaWQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGFjdGlvbiA9ICdzdG9wcGVkJztcclxuICAgICAgICAgICAgY29uc3QgY2FyID0gZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUuY2hpbGROb2Rlc1s1XS5maXJzdENoaWxkIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgICAgICBhd2FpdCBzdGFydENhckVuZ2luKGNhcklELCBhY3Rpb24pO1xyXG4gICAgICAgICAgICBjYXIuc3R5bGUudHJhbnNpdGlvbiA9IGBhbGwgMHMgbGluZWFyYDtcclxuICAgICAgICAgICAgY2FyLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKDBweClgO1xyXG4gICAgICAgICAgICBzdGFydEJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG59IiwiZXhwb3J0IGNsYXNzIFZpZXcge1xyXG5cclxuICAgIGgxOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJyk7XHJcblxyXG4gICAgaDI6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDInKTtcclxuXHJcbiAgICBuYXY6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbmF2Jyk7XHJcblxyXG4gICAgbWFpbjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtYWluJyk7XHJcblxyXG4gICAgcGFnaW5hdGlvbk5hdjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCduYXYnKTtcclxuXHJcbiAgICBhZGRWaWV3KCk6IHZvaWQge1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHRoaXMubmF2KTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZCh0aGlzLmgxKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZCh0aGlzLmgyKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZCh0aGlzLm1haW4pO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHRoaXMucGFnaW5hdGlvbk5hdik7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlVmlldygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmgxLnJlbW92ZSgpO1xyXG4gICAgICAgIHRoaXMuaDIucmVtb3ZlKCk7XHJcbiAgICAgICAgdGhpcy5uYXYucmVtb3ZlKCk7XHJcbiAgICAgICAgdGhpcy5tYWluLnJlbW92ZSgpO1xyXG4gICAgICAgIHRoaXMucGFnaW5hdGlvbk5hdi5yZW1vdmUoKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IGNhclN2ZyB9IGZyb20gXCIuLi9pbWFnZXMvY2FyU3ZnXCI7XHJcbmltcG9ydCB7IGdldENhciB9IGZyb20gXCIuLi9hcGkvZ2V0Q2Fyc1wiO1xyXG5pbXBvcnQgeyBnZXRXaW5uZXJzIH0gZnJvbSBcIi4uL2FwaS9nZXRXaW5uZXJzXCI7XHJcbmltcG9ydCB7IGdldFdpbm5lcnNDb3VudCB9IGZyb20gXCIuLi9hcGkvZ2V0V2lubmVyc0NvdW50XCI7XHJcbmltcG9ydCB7IFZpZXcgfSBmcm9tIFwiLi92aWV3XCI7XHJcbmltcG9ydCB7IGdldEN1cnJudFBhZ2VXaW5uZXJzLCBzZXRDdXJybnRQYWdlV2lubmVycyB9IGZyb20gXCIuLi9zdGF0ZS9jdXJyZW50UGFnZVdpbm5lcnNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBXaW5uZXJzIGV4dGVuZHMgVmlldyB7XHJcbiAgICBzb3J0UHJvcDogc3RyaW5nW10gPSBbJ2lkJywgJ0FTQyddXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmFkZEgxVGV4dCgpO1xyXG4gICAgICAgIHRoaXMuYWRkSDJUZXh0KCk7XHJcbiAgICAgICAgdGhpcy5hZGRUYWJsZSgpO1xyXG4gICAgICAgIHRoaXMuYWRkUGFnaW5hdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGFkZEgxVGV4dCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCB3aW5uZXJzQ291bnQgPSBhd2FpdCBnZXRXaW5uZXJzQ291bnQoKTtcclxuICAgICAgICB0aGlzLmgxLnRleHRDb250ZW50ID0gYFdpbm5lcnMgKCR7d2lubmVyc0NvdW50fSlgXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyBhZGRIMlRleHQoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgdGhpcy5oMi50ZXh0Q29udGVudCA9IGBQYWdlICMke2dldEN1cnJudFBhZ2VXaW5uZXJzKCl9YDtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBhZGRUYWJsZShcclxuICAgICAgICBwYWdlID0gTnVtYmVyKGdldEN1cnJudFBhZ2VXaW5uZXJzKCkpLFxyXG4gICAgICAgIGNhcnNPblBhZ2UgPSAxMCxcclxuICAgICAgICBzb3J0ID0gdGhpcy5zb3J0UHJvcFswXSxcclxuICAgICAgICBvcmRlciA9IHRoaXMuc29ydFByb3BbMV1cclxuICAgICk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcclxuICAgICAgICBjb25zdCB0YWJsZUhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoZWFkJyk7XHJcbiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcclxuICAgICAgICBjb25zdCBjYXJJZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcbiAgICAgICAgY2FySWQudGV4dENvbnRlbnQgPSAnSUQnO1xyXG4gICAgICAgIGNvbnN0IGNhckltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcbiAgICAgICAgY2FySW1nLnRleHRDb250ZW50ID0gJ0Nhcic7XHJcbiAgICAgICAgY29uc3QgY2FyTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcbiAgICAgICAgY2FyTmFtZS50ZXh0Q29udGVudCA9ICdOYW1lJztcclxuICAgICAgICBjb25zdCBjYXJXaW5zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgICAgICBjYXJXaW5zLnRleHRDb250ZW50ID0gJ1dpbnMnO1xyXG4gICAgICAgIGNvbnN0IGNhclRpbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgICAgIGNhclRpbWUudGV4dENvbnRlbnQgPSAnQmVzdCB0aW1lJztcclxuICAgICAgICByb3cuYXBwZW5kKGNhcklkLCBjYXJJbWcsIGNhck5hbWUsIGNhcldpbnMsIGNhclRpbWUpO1xyXG4gICAgICAgIHRhYmxlSGVhZGVyLmFwcGVuZChyb3cpO1xyXG4gICAgICAgIHRhYmxlLmFwcGVuZCh0YWJsZUhlYWRlcik7XHJcbiAgICAgICAgdGhpcy5tYWluLmFwcGVuZCh0YWJsZSk7XHJcblxyXG4gICAgICAgIGxldCB0Ym9keSA9IGF3YWl0IHRoaXMuZ2V0VGFibGVCb2R5KHBhZ2UsIGNhcnNPblBhZ2UsIHNvcnQsIG9yZGVyKTtcclxuICAgICAgICB0YWJsZS5hcHBlbmQodGJvZHkpO1xyXG5cclxuICAgICAgICBjYXJJZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zb3J0UHJvcFswXSA9ICdpZCc7XHJcbiAgICAgICAgICAgIHRoaXMuc29ydFByb3BbMV0gPSAodGhpcy5zb3J0UHJvcFsxXSA9PT0gJ0FTQycpID8gJ0RFU0MnIDogJ0FTQyc7XHJcbiAgICAgICAgICAgIGNhcklkLnRleHRDb250ZW50ID0gKHRoaXMuc29ydFByb3BbMV0gPT09ICdBU0MnKSA/ICdJRCDilrInIDogJ0lEIOKWvCc7XHJcbiAgICAgICAgICAgIGNhclRpbWUudGV4dENvbnRlbnQgPSAnQmVzdCB0aW1lJztcclxuICAgICAgICAgICAgY2FyV2lucy50ZXh0Q29udGVudCA9ICd3aW5zJztcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudFBhZ2UgPSBOdW1iZXIoZ2V0Q3Vycm50UGFnZVdpbm5lcnMoKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld3Rib2R5ID0gYXdhaXQgdGhpcy5nZXRUYWJsZUJvZHkoY3VycmVudFBhZ2UsIDEwLCB0aGlzLnNvcnRQcm9wWzBdLCB0aGlzLnNvcnRQcm9wWzFdKTtcclxuICAgICAgICAgICAgdGJvZHkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIHRib2R5ID0gbmV3dGJvZHk7XHJcbiAgICAgICAgICAgIHRhYmxlLmFwcGVuZCh0Ym9keSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNhcldpbnMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc29ydFByb3BbMF0gPSAnd2lucyc7XHJcbiAgICAgICAgICAgIHRoaXMuc29ydFByb3BbMV0gPSAodGhpcy5zb3J0UHJvcFsxXSA9PT0gJ0FTQycpID8gJ0RFU0MnIDogJ0FTQyc7XHJcbiAgICAgICAgICAgIGNhcldpbnMudGV4dENvbnRlbnQgPSAodGhpcy5zb3J0UHJvcFsxXSA9PT0gJ0FTQycpID8gJ3dpbnMg4payJyA6ICd3aW5zIOKWvCc7XHJcbiAgICAgICAgICAgIGNhclRpbWUudGV4dENvbnRlbnQgPSAnQmVzdCB0aW1lJztcclxuICAgICAgICAgICAgY2FySWQudGV4dENvbnRlbnQgPSAnSUQnO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UGFnZSA9IE51bWJlcihnZXRDdXJybnRQYWdlV2lubmVycygpKTtcclxuICAgICAgICAgICAgY29uc3QgbmV3dGJvZHkgPSBhd2FpdCB0aGlzLmdldFRhYmxlQm9keShjdXJyZW50UGFnZSwgMTAsIHRoaXMuc29ydFByb3BbMF0sIHRoaXMuc29ydFByb3BbMV0pO1xyXG4gICAgICAgICAgICB0Ym9keS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgdGJvZHkgPSBuZXd0Ym9keTtcclxuICAgICAgICAgICAgdGFibGUuYXBwZW5kKHRib2R5KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY2FyVGltZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zb3J0UHJvcFswXSA9ICd0aW1lJztcclxuICAgICAgICAgICAgdGhpcy5zb3J0UHJvcFsxXSA9ICh0aGlzLnNvcnRQcm9wWzFdID09PSAnQVNDJykgPyAnREVTQycgOiAnQVNDJztcclxuICAgICAgICAgICAgY2FyV2lucy50ZXh0Q29udGVudCA9ICd3aW5zJztcclxuICAgICAgICAgICAgY2FyVGltZS50ZXh0Q29udGVudCA9ICh0aGlzLnNvcnRQcm9wWzFdID09PSAnQVNDJykgPyAnQmVzdCB0aW1lIOKWsicgOiAnQmVzdCB0aW1lIOKWvCc7XHJcbiAgICAgICAgICAgIGNhcklkLnRleHRDb250ZW50ID0gJ0lEJztcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudFBhZ2UgPSBOdW1iZXIoZ2V0Q3Vycm50UGFnZVdpbm5lcnMoKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld3Rib2R5ID0gYXdhaXQgdGhpcy5nZXRUYWJsZUJvZHkoY3VycmVudFBhZ2UsIDEwLCB0aGlzLnNvcnRQcm9wWzBdLCB0aGlzLnNvcnRQcm9wWzFdKTtcclxuICAgICAgICAgICAgdGJvZHkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIHRib2R5ID0gbmV3dGJvZHk7XHJcbiAgICAgICAgICAgIHRhYmxlLmFwcGVuZCh0Ym9keSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZ2V0VGFibGVCb2R5KFxyXG4gICAgICAgIHBhZ2U6IG51bWJlcixcclxuICAgICAgICBsaW1pdDogbnVtYmVyLFxyXG4gICAgICAgIHNvcnQ6IHN0cmluZyxcclxuICAgICAgICBvcmRlcjogc3RyaW5nXHJcbiAgICApOiBQcm9taXNlPEhUTUxFbGVtZW50PiB7XHJcbiAgICAgICAgY29uc3QgdGFibGVCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGJvZHknKTtcclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0V2lubmVycyhwYWdlLCBsaW1pdCwgc29ydCwgb3JkZXIpO1xyXG4gICAgICAgIGRhdGEuZm9yRWFjaChhc3luYyBpdGVtID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2FyID0gYXdhaXQgZ2V0Q2FyKGl0ZW0uaWQpO1xyXG4gICAgICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xyXG4gICAgICAgICAgICBjb25zdCB0ZHMgPSBgXHJcbiAgICAgICAgICAgIDx0ZD4ke2l0ZW0uaWR9PC90ZD5cclxuICAgICAgICAgICAgPHRkPiR7Y2FyU3ZnKGNhci5jb2xvcil9PC90ZD5cclxuICAgICAgICAgICAgPHRkPiR7Y2FyLm5hbWV9PC90ZD5cclxuICAgICAgICAgICAgPHRkPiR7aXRlbS53aW5zfTwvdGQ+XHJcbiAgICAgICAgICAgIDx0ZD4ke2l0ZW0udGltZX08L3RkPmA7XHJcbiAgICAgICAgICAgIHJvdy5pbm5lckhUTUwgPSB0ZHM7XHJcbiAgICAgICAgICAgIHRhYmxlQm9keS5hcHBlbmQocm93KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiB0YWJsZUJvZHk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkUGFnaW5hdGlvbigpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBwcmV2QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgcHJldkJ0bi50ZXh0Q29udGVudCA9ICdwcmV2JztcclxuICAgICAgICBjb25zdCBuZXh0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgbmV4dEJ0bi50ZXh0Q29udGVudCA9ICduZXh0JztcclxuICAgICAgICB0aGlzLnBhZ2luYXRpb25OYXYuYXBwZW5kKHByZXZCdG4sIG5leHRCdG4pO1xyXG5cclxuICAgICAgICBjb25zdCBkaXNhYmxlciA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgd2lubmVycyA9IGF3YWl0IGdldFdpbm5lcnNDb3VudCgpO1xyXG4gICAgICAgICAgICBpZiAoZ2V0Q3Vycm50UGFnZVdpbm5lcnMoKSA9PT0gJzEnKSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2QnRuLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHByZXZCdG4uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoTnVtYmVyKGdldEN1cnJudFBhZ2VXaW5uZXJzKCkpID49IHdpbm5lcnMgLyAxMCkge1xyXG4gICAgICAgICAgICAgICAgbmV4dEJ0bi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBuZXh0QnRuLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGRpc2FibGVyKCk7XHJcblxyXG4gICAgICAgIG5leHRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubWFpbi5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudFBhZ2UgPSBTdHJpbmcoTnVtYmVyKGdldEN1cnJudFBhZ2VXaW5uZXJzKCkpICsgMSk7XHJcbiAgICAgICAgICAgIHNldEN1cnJudFBhZ2VXaW5uZXJzKGN1cnJlbnRQYWdlKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRUYWJsZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZEgyVGV4dCgpO1xyXG4gICAgICAgICAgICBkaXNhYmxlcigpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHByZXZCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubWFpbi5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudFBhZ2UgPSBTdHJpbmcoTnVtYmVyKGdldEN1cnJudFBhZ2VXaW5uZXJzKCkpIC0gMSk7XHJcbiAgICAgICAgICAgIHNldEN1cnJudFBhZ2VXaW5uZXJzKGN1cnJlbnRQYWdlKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRIMlRleHQoKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRUYWJsZShOdW1iZXIoY3VycmVudFBhZ2UpKVxyXG4gICAgICAgICAgICBkaXNhYmxlcigpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgJy4vbWFpbi5zY3NzJztcclxuaW1wb3J0IHsgU2VsZWN0VmlldyB9IGZyb20gXCIuL2NvbXBvbmVudHMvY2hhbmdlVmlld1wiO1xyXG5cclxubmV3IFNlbGVjdFZpZXc7XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbImNhck9iamVjdCIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwianNvbiIsIndpbm5lck9iamVjdCIsImNhcklEIiwiY2FyaWQiLCJyZXNwb25zZSIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJlcnJvciIsInJlcyIsImN1cnJlbnRQYWdlIiwiZ2V0Q3Vycm50UGFnZSIsIk51bWJlciIsImlkIiwicGFnZSIsImxpbWl0Iiwic29ydCIsIm9yZ2VyIiwibGVuZ3RoIiwiYWN0aW9uIiwiZGF0YSIsImRpc3RhbmNlIiwidmVsb2NpdHkiLCJ0b0ZpeGVkIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwiY2FyTmFtZSIsIm5hbWUiLCJjYXJDb2xvciIsImNvbG9yIiwiYWRkQ2FyIiwiY2FyV3JhcHBlciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImFwcGVuZCIsImFkZERlbEJ0biIsImFkZFNlbGVjdEJ0biIsImFkZFN0YXJ0QnRuIiwiYWRkU3RvcEJ0biIsImFkZENhck5hbWUiLCJhZGRDYXJJbWciLCJ0ZXh0Q29udGVudCIsImNhckltZyIsImlubmVySFRNTCIsImNhclN2ZyIsImRlbEJ0biIsInNlbGVjdEJ0biIsInN0YXJ0QnRuIiwic3RvcEJ0biIsImRpc2FibGVkIiwiZ2FyYWdlQnRuIiwid2lubmVyc0J0biIsImdhcmFnZSIsIkdhcmFnZSIsIndpbm5lcnMiLCJXaW5uZXJzIiwiYWRkVmlldyIsImNoYW5nZVZpZXciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlVmlldyIsIm1haW4iLCJhZGRIMVRleHQiLCJhZGRUYWJsZSIsInBhZ2luYXRpb25OYXYiLCJhZGRQYWdpbmF0aW9uIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJjYXJCcmFuZHMiLCJjYXJNb2RlbHMiLCJnZXRSYW5kb20iLCJhcnIiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJpIiwiVmlldyIsInN1cGVyIiwic2VsZWN0ZWRDYXIiLCJhZGRIMlRleHQiLCJhZGRDYXJzIiwiY3JlYXRlQ2FyIiwidXBkYXRlZUNhciIsImdlbmVyYXRlQ2FycyIsInN0YXJ0UmFjZSIsInJlc2V0UmFjZSIsImNhckV2ZW50cyIsImNhckNvdW50IiwiZ2V0Q2FycyIsImgxIiwiaDIiLCJnZXRDYXJzUGFnZSIsImZvckVhY2giLCJpdGVtIiwiY2FyIiwiQ2FyVGVtcGVsYXRlIiwicHJldkJ0biIsIm5leHRCdG4iLCJkaXNhYmxlciIsInRvU3RyaW5nIiwic2V0Q3Vycm50UGFnZSIsImdldFNlbGVjdGVkQ2FyIiwic2V0U2VsZWN0ZWRDYXIiLCJldmVudCIsInRhcmdldCIsIkhUTUxCdXR0b25FbGVtZW50IiwicGFyZW50Tm9kZSIsIkhUTUxFbGVtZW50IiwiZm9ybSIsImlucHV0TmFtZSIsInR5cGUiLCJpbnB1dENvbG9yIiwic3VibWl0QnRuIiwibmF2IiwidmFsdWUiLCJuZXdDYXIiLCJjaGlsZE5vZGVzIiwic2VsZWN0ZWRDYXJJZCIsInVwZGF0ZWRDYXIiLCJ1cGRhdGVDYXIiLCJnZXRFbGVtZW50QnlJZCIsInJlcGxhY2VDaGlsZCIsImdlbmVyYXRlQnRuIiwiZ2V0UmFuZG9tQ2FyTmFtZSIsImdldFJhbmRvbUNvbG9ySGV4IiwicmFjZUJ0biIsImNhcnMiLCJwcm9taXNlcyIsImZpcnN0Q2hpbGQiLCJ0aW1lUHJvbWlzZSIsInN0YXJ0Q2FyRW5naW4iLCJ0aGVuIiwidGltZSIsInN0eWxlIiwidHJhbnNpdGlvbiIsInRyYW5zZm9ybSIsImNsaWVudFdpZHRoIiwiZHJpdmVNb2RlIiwic3RvcFBvc2l0aW9uIiwid2luZG93IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJzcGxpdCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsInB1c2giLCJyZXN1bHQiLCJyYWNlIiwiZ2V0Q2FyIiwid2lubmVyUG9wVXAiLCJjcmVhdGVXaW5uZXIiLCJjb250YWluZXIiLCJ3aW5uZXIiLCJnZXRXaW5uZXIiLCJ3aW5zIiwidXBkYXRlV2lubmVyIiwicmVzZXRCdG4iLCJsYXN0Q2hpbGQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInJlbW92ZSIsImUiLCJyZW1vdmVDYXIiLCJzdGFydENhciIsInN0b3BDYXIiLCJnZXRGaXJzdENhck5leHRQYWdlIiwiZGVsZXRlQ2FyIiwiZGVsZXRlV2lubmVyIiwic29ydFByb3AiLCJ3aW5uZXJzQ291bnQiLCJnZXRXaW5uZXJzQ291bnQiLCJnZXRDdXJybnRQYWdlV2lubmVycyIsImNhcnNPblBhZ2UiLCJvcmRlciIsInRhYmxlIiwidGFibGVIZWFkZXIiLCJyb3ciLCJjYXJJZCIsImNhcldpbnMiLCJjYXJUaW1lIiwidGJvZHkiLCJnZXRUYWJsZUJvZHkiLCJuZXd0Ym9keSIsInRhYmxlQm9keSIsImdldFdpbm5lcnMiLCJ0ZHMiLCJTdHJpbmciLCJzZXRDdXJybnRQYWdlV2lubmVycyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiU2VsZWN0VmlldyJdLCJzb3VyY2VSb290IjoiIn0=